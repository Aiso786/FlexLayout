!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react"),require("react-dom")):"function"==typeof define&&define.amd?define(["react","react-dom"],t):"object"==typeof exports?exports.FlexLayout=t(require("react"),require("react-dom")):e.FlexLayout=t(e.React,e.ReactDOM)}(this,function(e,t){return function(e){function t(i){if(n[i])return n[i].exports;var o=n[i]={exports:{},id:i,loaded:!1};return e[i].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Rect=t.DragDrop=t.Orientation=t.DockLocation=t.TabSetNode=t.TabNode=t.SplitterNode=t.RowNode=t.Node=t.Model=t.Actions=t.Layout=void 0;var o=n(18),a=i(o),r=n(4),s=i(r),l=n(16),u=i(l),d=n(7),h=i(d),c=n(10),f=i(c),p=n(13),v=i(p),_=n(11),g=i(_),y=n(8),b=i(y),m=n(2),w=i(m),E=n(3),T=i(E),D=n(12),k=i(D),C=n(1),x=i(C);t.Layout=a["default"],t.Actions=s["default"],t.Model=u["default"],t.Node=h["default"],t.RowNode=f["default"],t.SplitterNode=v["default"],t.TabNode=g["default"],t.TabSetNode=b["default"],t.DockLocation=w["default"],t.Orientation=T["default"],t.DragDrop=k["default"],t.Rect=x["default"],t["default"]={Layout:a["default"],Actions:s["default"],Model:u["default"],Node:h["default"],RowNode:f["default"],SplitterNode:v["default"],TabNode:g["default"],TabSetNode:b["default"],DockLocation:w["default"],Orientation:T["default"],DragDrop:k["default"],Rect:x["default"]}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(3),s=i(r),l=function(){function e(t,n,i,a){o(this,e),this.x=t,this.y=n,this.width=i,this.height=a}return a(e,[{key:"clone",value:function(){return new e(this.x,this.y,this.width,this.height)}},{key:"equals",value:function(e){return this.x===e.x&&this.y===e.y&&this.width===e.width&&this.height===e.height}},{key:"getBottom",value:function(){return this.y+this.height}},{key:"getRight",value:function(){return this.x+this.width}},{key:"positionElement",value:function(e){this.styleWithPosition(e.style)}},{key:"styleWithPosition",value:function(e){return e.left=this.x+"px",e.top=this.y+"px",e.width=Math.max(0,this.width)+"px",e.height=Math.max(0,this.height)+"px",e.position="absolute",e}},{key:"contains",value:function(e,t){return this.x<=e&&e<=this.getRight()&&this.y<=t&&t<=this.getBottom()}},{key:"centerInRect",value:function(e){this.x=(e.width-this.width)/2,this.y=(e.height-this.height)/2}},{key:"_getSize",value:function(e){var t=this.width;return e===s["default"].VERT&&(t=this.height),t}},{key:"toString",value:function(){return"(Rect: x="+this.x+", y="+this.y+", width="+this.width+", height="+this.height+")"}}]),e}();t["default"]=l},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(1),s=i(r),l=n(3),u=i(l),d={},h=function(){function e(t,n,i){o(this,e),this._name=t,this._orientation=n,this._indexPlus=i,d[this._name]=this}return a(e,[{key:"getName",value:function(){return this._name}},{key:"getDockRect",value:function(t){return this===e.TOP?new s["default"](t.x,t.y,t.width,t.height/2):this===e.BOTTOM?new s["default"](t.x,t.getBottom()-t.height/2,t.width,t.height/2):this===e.LEFT?new s["default"](t.x,t.y,t.width/2,t.height):this===e.RIGHT?new s["default"](t.getRight()-t.width/2,t.y,t.width/2,t.height):t.clone()}},{key:"toString",value:function(){return"(DockLocation: name="+this._name+", orientation="+this._orientation+")"}}],[{key:"getByName",value:function(e){return d[e]}},{key:"getLocation",value:function(t,n,i){return n<t.x+t.width/4?e.LEFT:n>t.getRight()-t.width/4?e.RIGHT:i<t.y+t.height/4?e.TOP:i>t.getBottom()-t.height/4?e.BOTTOM:e.CENTER}}]),e}();h.TOP=new h("top",u["default"].VERT,0),h.BOTTOM=new h("bottom",u["default"].VERT,1),h.LEFT=new h("left",u["default"].HORZ,0),h.RIGHT=new h("right",u["default"].HORZ,1),h.CENTER=new h("center",u["default"].VERT,0),t["default"]=h},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function e(){n(this,e)}return i(e,null,[{key:"flip",value:function(t){return t===e.HORZ?e.VERT:e.HORZ}}]),e}();o.HORZ="horz",o.VERT="vert",t["default"]=o},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(2),s=(i(r),function(){function e(){o(this,e)}return a(e,null,[{key:"addNode",value:function(t,n,i,o){return{type:e.ADD_NODE,json:t,toNode:n,location:i.getName(),index:o}}},{key:"moveNode",value:function(t,n,i,o){return{type:e.MOVE_NODE,fromNode:t,toNode:n,location:i.getName(),index:o}}},{key:"deleteTab",value:function(t){return{type:e.DELETE_TAB,node:t}}},{key:"renameTab",value:function(t,n){return{type:e.RENAME_TAB,node:t,text:n}}},{key:"selectTab",value:function(t){return{type:e.SELECT_TAB,tabNode:t}}},{key:"setActiveTabset",value:function(t){return{type:e.SET_ACTIVE_TABSET,tabsetNode:t}}},{key:"adjustSplit",value:function(t){var n=t.node1,i=t.node2;return{type:e.ADJUST_SPLIT,node1:n,weight1:t.weight1,pixelWidth1:t.pixelWidth1,node2:i,weight2:t.weight2,pixelWidth2:t.pixelWidth2}}},{key:"maximizeToggle",value:function(t){return{type:e.MAXIMIZE_TOGGLE,node:t}}},{key:"updateModelAttributes",value:function(t){return{type:e.UPDATE_MODEL_ATTRIBUTES,json:t}}},{key:"updateNodeAttributes",value:function(t,n){return{type:e.UPDATE_NODE_ATTRIBUTES,node:t,json:n}}}]),e}());s.ADD_NODE="FlexLayout_AddNode",s.MOVE_NODE="FlexLayout_MoveNode",s.DELETE_TAB="FlexLayout_DeleteTab",s.RENAME_TAB="FlexLayout_RenameTab",s.SELECT_TAB="FlexLayout_SelectTab",s.SET_ACTIVE_TABSET="FlexLayout_SetActiveTabset",s.ADJUST_SPLIT="FlexLayout_AdjustSplit",s.MAXIMIZE_TOGGLE="FlexLayout_MaximizeToggle",s.UPDATE_MODEL_ATTRIBUTES="FlexLayout_UpdateModelAttributes",s.UPDATE_NODE_ATTRIBUTES="FlexLayout_UpdateNodeAttributes",t["default"]=s},function(t,n){t.exports=e},function(e,n){e.exports=t},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(1),s=i(r),l=n(17),u=(i(l),n(3)),d=i(u),h=n(2),c=i(h),f=function(){function e(t){o(this,e),this._type=null,this._id=null,this._model=t,this._parent=null,this._children=[],this._weight=100,this._height=null,this._width=null,this._fixed=!1,this._rect=new s["default"],this._visible=!1,this._listeners={}}return a(e,[{key:"getId",value:function(){return this._id}},{key:"getModel",value:function(){return this._model}},{key:"getType",value:function(){return this._type}},{key:"getParent",value:function(){return this._parent}},{key:"getChildren",value:function(){return this._children}},{key:"getRect",value:function(){return this._rect}},{key:"isVisible",value:function(){return this._visible}},{key:"getOrientation",value:function(){return null==this._parent?d["default"].HORZ:d["default"].flip(this._parent.getOrientation())}},{key:"getWidth",value:function(){return this._width}},{key:"getHeight",value:function(){return this._height}},{key:"setEventListener",value:function(e,t){this._listeners[e]=t}},{key:"removeEventListener",value:function(e){delete this._listeners[e]}},{key:"_fireEvent",value:function(e,t){null!=this._listeners[e]&&this._listeners[e](t)}},{key:"_getAttr",value:function(e){var t=void 0;return t=void 0===this[e]?this._model[e]:this[e]}},{key:"_forEachNode",value:function(e,t){e(this,t),t++,this._children.forEach(function(n){e(n,t),n._forEachNode(e,t)})}},{key:"_getPrefSize",value:function(e){var t=this.getWidth();return e===d["default"].VERT&&(t=this.getHeight()),t}},{key:"_setVisible",value:function(e){e!=this._visible&&(this._fireEvent("visibility",{visible:e}),this._visible=e)}},{key:"_getDrawChildren",value:function(){return this._children}},{key:"_layout",value:function(e){this._rect=e}},{key:"_findDropTargetNode",value:function(e,t,n){var i=null;if(this._rect.contains(t,n)&&(i=this._canDrop(e,t,n),null==i&&0!==this._children.length))for(var o=0;o<this._children.length;o++){var a=this._children[o];if(i=a._findDropTargetNode(e,t,n),null!=i)break}return i}},{key:"_canDrop",value:function(e,t,n){return null}},{key:"_canDockInto",value:function(e,t){if(null!=t){if(t.location===c["default"].CENTER&&t.node.isEnableDrop()===!1)return!1;if(t.location===c["default"].CENTER&&"tabset"===e._type&&null!==e.getName())return!1;if(t.location!==c["default"].CENTER&&t.node.isEnableDivide()===!1)return!1}return!0}},{key:"_removeChild",value:function(e){var t=this._children.indexOf(e);return t!==-1&&this._children.splice(t,1),this._dirty=!0,t}},{key:"_addChild",value:function(e,t){return void 0!=t?this._children.splice(t,0,e):(this._children.push(e),t=this._children.length-1),e._parent=this,this._dirty=!0,t}},{key:"_removeAll",value:function(){this._children=[],this._dirty=!0}},{key:"_styleWithPosition",value:function(e){return void 0==e&&(e={}),this._rect.styleWithPosition(e)}},{key:"_updateAttrs",value:function(e){}},{key:"toString",value:function(e,t){e.push(t+this._type+" "+this._weight.toFixed(2)+" "+this._id),t+="\t";for(var n=0;n<this._children.length;n++){var i=this._children[n];i.toString(e,t)}}},{key:"toAttributeString",value:function(){return""}}]),e}();t["default"]=f},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=n(1),u=i(l),d=n(9),h=i(d),c=n(2),f=i(c),p=n(3),v=(i(p),n(14)),_=i(v),g=n(7),y=i(g),b=n(11),m=i(b),w=n(10),E=i(w),T=function(e){function t(e,n){o(this,t);var i=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i._contentRect=null,i._headerRect=null,i._tabHeaderRect=null,D.fromJson(n,i),e._addNode(i),i}return r(t,e),s(t,[{key:"getName",value:function(){return this._name}},{key:"getSelected",value:function(){return this._selected}},{key:"isMaximized",value:function(){return this._maximized}},{key:"isActive",value:function(){return this._active}},{key:"isEnableClose",value:function(){return this._getAttr("_tabSetEnableClose")}},{key:"isEnableDrop",value:function(){return this._getAttr("_tabSetEnableDrop")}},{key:"isEnableDrag",value:function(){return this._getAttr("_tabSetEnableDrag")}},{key:"isEnableDivide",value:function(){return this._getAttr("_tabSetEnableDivide")}},{key:"isEnableMaximize",value:function(){return this._getAttr("_tabSetEnableMaximize")}},{key:"isEnableTabStrip",value:function(){return this._getAttr("_tabSetEnableTabStrip")}},{key:"getClassNameTabStrip",value:function(){return this._getAttr("_tabSetClassNameTabStrip")}},{key:"getClassNameHeader",value:function(){return this._getAttr("_tabSetClassNameHeader")}},{key:"getHeaderHeight",value:function(){return this._getAttr("_tabSetHeaderHeight")}},{key:"getTabStripHeight",value:function(){return this._getAttr("_tabSetTabStripHeight")}},{key:"_setSelected",value:function(e){this._selected=e}},{key:"_setMaximized",value:function(e){this._maximized=e}},{key:"_canDrop",value:function(e,t,n){var i=null;if(e===this){var o=f["default"].CENTER,a=this._tabHeaderRect;i=new _["default"](this,a,o,(-1),"flexlayout__outline_rect")}else if(this._contentRect.contains(t,n)){var r=f["default"].getLocation(this._contentRect,t,n),s=r.getDockRect(this._rect);i=new _["default"](this,s,r,(-1),"flexlayout__outline_rect")}else if(this._children.length>0&&null!=this._tabHeaderRect&&this._tabHeaderRect.contains(t,n)){for(var l=this._tabHeaderRect.x,d=this._children[0]._tabRect.y,h=this._children[0]._tabRect.height,c=this._children[0]._tabRect.width,p=0,v=0;v<this._children.length;v++){var g=this._children[v];if(c=this._children[0]._tabRect.width,p=g._tabRect.x+g._tabRect.width/2,t>=l&&t<p){var y=f["default"].CENTER,b=new u["default"](l,d,p-l,h);i=new _["default"](this,b,y,v,"flexlayout__outline_rect");break}l=p}if(null==i){var m=f["default"].CENTER,w=new u["default"](l,d,c,h);i=new _["default"](this,w,m,this._children.length,"flexlayout__outline_rect")}}return e._canDockInto(e,i)?i:null}},{key:"_layout",value:function(e){this._maximized&&(e=this._model._root._rect),this._rect=e;var t=null!=this._name,n=0;t&&(this._headerRect=new u["default"](e.x,e.y,e.width,this.getHeaderHeight()),n+=this.getHeaderHeight()),this.isEnableTabStrip()&&(this._tabHeaderRect=new u["default"](e.x,e.y+n,e.width,this.getTabStripHeight()),n+=this.getTabStripHeight()),this._contentRect=new u["default"](e.x,e.y+n,e.width,e.height-n);for(var i=0;i<this._children.length;i++){var o=this._children[i];o._layout(this._contentRect),o._setVisible(i===this._selected)}}},{key:"_remove",value:function(e){this._removeChild(e),this._model._tidy(),this._selected=Math.max(0,this._selected-1)}},{key:"_drop",value:function(e,n,i){var o=n;if(this!==e){var a=0;if(null!=e._parent&&(a=e._parent._removeChild(e)),e._type===m["default"].TYPE&&e._parent===this&&a<i&&i>0&&i--,null!==e._parent&&e._parent._type===t.TYPE&&(e._parent._selected=0),o===f["default"].CENTER){var r=i;if(r===-1&&(r=this._children.length),e._type===m["default"].TYPE)this._addChild(e,r),this._selected=r;else for(var s=0;s<e._children.length;s++)this._addChild(e._children[s],r),r++;this._model._activeTabSet=this}else{var l=null;e._type===m["default"].TYPE?(l=new t(this._model,{}),l._addChild(e),e._parent=l):l=e;var u=this._parent,d=u._children.indexOf(this);if(u.getOrientation()===o._orientation)l._weight=this._weight/2,this._weight=this._weight/2,u._addChild(l,d+o._indexPlus);else{var h=new E["default"](this._model,{});h._weight=this._weight,h._addChild(this),this._weight=50,l._weight=50,h._addChild(l,o._indexPlus),u._removeChild(this),u._addChild(h,d)}this._model._activeTabSet=l}this._model._tidy()}}},{key:"_toJson",value:function(){var e={};D.toJson(e,this),e.children=[];for(var t=0;t<this._children.length;t++){var n=this._children[t]._toJson();e.children.push(n)}return e}},{key:"_updateAttrs",value:function(e){D.updateAttrs(e,this)}}],[{key:"_fromJson",value:function(e,n){n._checkUniqueId(e);var i=new t(n,e);if(void 0!=e.children)for(var o=0;o<e.children.length;o++){var a=m["default"]._fromJson(e.children[o],n);i._addChild(a)}return i}}]),t}(y["default"]);T.TYPE="tabset";var D=new h["default"];D.addConversion("_type","type",T.TYPE,!0),D.addConversion("_weight","weight",100),D.addConversion("_width","width",null),D.addConversion("_height","height",null),D.addConversion("_name","name",null),D.addConversion("_selected","selected",0),D.addConversion("_maximized","maximized",!1),D.addConversion("_active","active",!1),D.addConversion("_id","id",null),D.addConversion("_tabSetEnableClose","enableClose",void 0),D.addConversion("_tabSetEnableDrop","enableDrop",void 0),D.addConversion("_tabSetEnableDrag","enableDrag",void 0),D.addConversion("_tabSetEnableDivide","enableDivide",void 0),D.addConversion("_tabSetEnableMaximize","enableMaximize",void 0),D.addConversion("_tabSetClassNameTabStrip","classNameTabStrip",void 0),D.addConversion("_tabSetClassNameHeader","classNameHeader",void 0),D.addConversion("_tabSetEnableTabStrip","enableTabStrip",void 0),D.addConversion("_tabSetHeaderHeight","headerHeight",void 0),D.addConversion("_tabSetTabStripHeight","tabStripHeight",void 0),t["default"]=T},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function e(){n(this,e),this.conversions=[]}return i(e,[{key:"addConversion",value:function(e,t,n,i){this.conversions.push({name:e,jsonName:t,defaultValue:n,alwaysWriteJson:void 0!==i})}},{key:"toJson",value:function(e,t){for(var n=0;n<this.conversions.length;n++){var i=this.conversions[n],o=t[i.name];(i.alwaysWriteJson||o!==i.defaultValue)&&(e[i.jsonName]=o)}}},{key:"fromJson",value:function(e,t){for(var n=0;n<this.conversions.length;n++){var i=this.conversions[n],o=e[i.jsonName];void 0===o?t[i.name]=i.defaultValue:t[i.name]=o}}},{key:"updateAttrs",value:function(e,t){for(var n=0;n<this.conversions.length;n++){var i=this.conversions[n],o=e[i.jsonName];void 0!==o&&(t[i.name]=o)}}},{key:"setDefaults",value:function(e){for(var t=0;t<this.conversions.length;t++){var n=this.conversions[t];e[n.name]=n.defaultValue}}},{key:"toTable",value:function(){var e=[];e.push("| Attribute | Default | Description  |"),e.push("| ------------- |:-------------:| -----|");for(var t=0;t<this.conversions.length;t++){var n=this.conversions[t];e.push("| "+n.jsonName+" | "+n.defaultValue+" | |")}return e.join("\n")}},{key:"toTableValues",value:function(e,t){var n=[];n.push("<table border='1'>"),n.push("<tr><th>Attribute</th><th>Default</th><th>Value</th></tr>");for(var i=0;i<this.conversions.length;i++){var o=this.conversions[i];n.push("<tr><td>"+o.jsonName+"</td><td>"+o.defaultValue+"</td><td>"+JSON.stringify(e[o.name])+"</td></tr>")}return n.push("</table>"),n.join("\n")}}]),e}();t["default"]=o},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=function x(e,t,n){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,t);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:x(o,t,n)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(n)},u=n(1),d=i(u),h=n(9),c=i(h),f=n(3),p=i(f),v=n(2),_=i(v),g=n(13),y=i(g),b=n(7),m=i(b),w=n(8),E=i(w),T=n(14),D=i(T),k=function(e){function t(e,n){o(this,t);var i=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i._dirty=!0,i._drawChildren=[],C.fromJson(n,i),e._addNode(i),i}return r(t,e),s(t,[{key:"_layout",value:function(e){l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_layout",this).call(this,e);for(var n=this._rect._getSize(this.getOrientation()),i=0,o=0,a=0,r=0,s=0,u=this._getDrawChildren(),h=0;h<u.length;h++){var c=u[h],f=c._getPrefSize(this.getOrientation());c._fixed?o+=f:(null==f?i+=c._weight:(a+=f,s+=c._weight),r++)}var v=!1,_=n-o-a;_<0&&(_=n-o,v=!0,i+=s);for(var g=0,y=0,b=0;b<u.length;b++){var m=u[b],w=m._getPrefSize(this.getOrientation());m._fixed?m.tempsize=w:null==w||v?(0===i?m.tempsize=0:m.tempsize=Math.floor(_*(m._weight/i)),y+=m.tempsize):m.tempsize=w,g+=m.tempsize}if(y>0)for(;g<n;)for(var E=0;E<u.length;E++){var T=u[E],D=T._getPrefSize(this.getOrientation());!T._fixed&&(null==D||v)&&g<n&&(T.tempsize++,g++)}for(var k=(p["default"].flip(this.getOrientation()),0),C=0;C<u.length;C++){var x=u[C];this.getOrientation()===p["default"].HORZ?x._layout(new d["default"](this._rect.x+k,this._rect.y,x.tempsize,this._rect.height)):x._layout(new d["default"](this._rect.x,this._rect.y+k,this._rect.width,x.tempsize)),k+=x.tempsize}return!0}},{key:"_getSplitterBounds",value:function(e){var t=[0,0],n=this._getDrawChildren(),i=n.indexOf(e);return this.getOrientation()===p["default"].HORZ?(t[0]=n[i-1]._rect.x,t[1]=n[i+1]._rect.getRight()-e.getWidth()):(t[0]=n[i-1]._rect.y,t[1]=n[i+1]._rect.getBottom()-e.getHeight()),t}},{key:"_calculateSplit",value:function(e,t){var n=null,i=this._getDrawChildren(),o=i.indexOf(e),a=this._getSplitterBounds(e),r=i[o-1]._weight+i[o+1]._weight,s=Math.max(0,t-a[0]),l=Math.max(0,a[1]-t);if(s+l>0){var u=s*r/(s+l),d=l*r/(s+l);n={node1:i[o-1].getId(),weight1:u,pixelWidth1:s,node2:i[o+1].getId(),weight2:d,pixelWidth2:l}}return n}},{key:"_getDrawChildren",value:function(){if(this._dirty){this._drawChildren=[];for(var e=0;e<this._children.length;e++){var t=this._children[e];if(0!==e){var n=new y["default"](this._model);n._parent=this,this._drawChildren.push(n)}this._drawChildren.push(t)}this._dirty=!1}return this._drawChildren}},{key:"_tidy",value:function(){for(var e=0;e<this._children.length;){var n=this._children[e];if(n._type===t.TYPE)if(n._tidy(),0===n._children.length)this._removeChild(n);else if(1===n._children.length){var i=n._children[0];if(this._removeChild(n),i._type===t.TYPE){for(var o=0,a=0;a<i._children.length;a++){var r=i._children[a];o+=r._weight}for(var s=0;s<i._children.length;s++){var l=i._children[s];l._weight=n._weight*l._weight/o,this._addChild(l,e+s)}}else i._weight=n._weight,this._addChild(i,e)}else e++;else n._type===E["default"].TYPE&&0===n._children.length?this===this._model._root&&1===this._children.length||!n.isEnableClose()?e++:this._removeChild(n):e++}}},{key:"_canDrop",value:function(e,t,n){var i=this._rect.width,o=this._rect.height,a=10,r=50;if(this._model.isEnableEdgeDock()&&null==this._parent){if(t<this._rect.x+a&&n>o/2-r&&n<o/2+r){var s=_["default"].LEFT,l=s.getDockRect(this._rect);return l.width=l.width/2,new D["default"](this,l,s,(-1),"flexlayout__outline_rect_edge")}if(t>this._rect.getRight()-a&&n>o/2-r&&n<o/2+r){var u=_["default"].RIGHT,d=u.getDockRect(this._rect);return d.width=d.width/2,d.x+=d.width,new D["default"](this,d,u,(-1),"flexlayout__outline_rect_edge")}if(n<this._rect.y+a&&t>i/2-r&&t<i/2+r){var h=_["default"].TOP,c=h.getDockRect(this._rect);return c.height=c.height/2,new D["default"](this,c,h,(-1),"flexlayout__outline_rect_edge")}if(n>this._rect.getBottom()-a&&t>i/2-r&&t<i/2+r){var f=_["default"].BOTTOM,p=f.getDockRect(this._rect);return p.height=p.height/2,p.y+=p.height,new D["default"](this,p,f,(-1),"flexlayout__outline_rect_edge")}}return null}},{key:"_drop",value:function(e,n,i){var o=n;e._parent&&e._parent._removeChild(e),null!==e._parent&&e._parent._type===E["default"].TYPE&&(e._parent._selected=0);var a=null;e._type===E["default"].TYPE?a=e:(a=new E["default"](this._model,{}),a._addChild(e));for(var r=0,s=0;s<this._children.length;s++)r+=this._children[s]._weight;if(0===r&&(r=100),a._weight=r/3,o===_["default"].LEFT)this._addChild(a,0);else if(o===_["default"].RIGHT)this._addChild(a);else if(o===_["default"].TOP){var l=new t(this._model,{}),u=new t(this._model,{});u._weight=75,a._weight=25;for(var d=0;d<this._children.length;d++)u._addChild(this._children[d]);this._removeAll(),l._addChild(a),l._addChild(u),this._addChild(l)}else if(o===_["default"].BOTTOM){var h=new t(this._model,{}),c=new t(this._model,{});c._weight=75,a._weight=25;for(var f=0;f<this._children.length;f++)c._addChild(this._children[f]);this._removeAll(),h._addChild(c),h._addChild(a),this._addChild(h)}this._model._activeTabSet=a,this._model._tidy()}},{key:"_toJson",value:function(){var e={};return C.toJson(e,this),e.children=[],this._children.forEach(function(t){e.children.push(t._toJson())}),e}}],[{key:"_fromJson",value:function(e,n){n._checkUniqueId(e);var i=new t(n,e);if(void 0!=e.children)for(var o=0;o<e.children.length;o++){var a=e.children[o];if(a.type===E["default"].TYPE){var r=E["default"]._fromJson(a,n);i._addChild(r)}else{var s=t._fromJson(a,n);i._addChild(s)}}return i}}]),t}(m["default"]);k.TYPE="row";var C=new c["default"];C.addConversion("_type","type",k.TYPE,!0),C.addConversion("_weight","weight",100),C.addConversion("_width","width",null),C.addConversion("_height","height",null),C.addConversion("_id","id",null),t["default"]=k},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=n(7),u=i(l),d=n(9),h=i(d),c=n(2),f=(i(c),n(8)),p=(i(f),n(10)),v=(i(p),function(e){function t(e,n){o(this,t);var i=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i._tabRect=null,i._extra={},_.fromJson(n,i),e._addNode(i),i}return r(t,e),s(t,[{key:"getTabRect",value:function(){return this._tabRect}},{key:"setTabRect",value:function(e){this._tabRect=e}},{key:"getName",value:function(){return this._name}},{key:"getComponent",value:function(){return this._component}},{key:"getConfig",value:function(){return this._config}},{key:"getExtraData",value:function(){return this._extra}},{key:"getIcon",value:function(){return this._getAttr("_tabIcon")}},{key:"isEnableClose",value:function(){return this._getAttr("_tabEnableClose")}},{key:"isEnableDrag",value:function(){return this._getAttr("_tabEnableDrag")}},{key:"isEnableRename",value:function(){return this._getAttr("_tabEnableRename")}},{key:"getClassName",value:function(){return this._getAttr("_tabClassName")}},{key:"_setName",value:function(e){this._name=e}},{key:"_layout",value:function(e){e.equals(this._rect)||this._fireEvent("resize",{rect:e}),this._rect=e}},{key:"_delete",value:function(){this._parent._remove(this),this._fireEvent("close",{})}},{key:"_toJson",value:function(){var e={};return _.toJson(e,this),e}},{key:"_updateAttrs",value:function(e){_.updateAttrs(e,this)}},{key:"toString",value:function(e,t){e.push(t+this._type+" "+this._name+" "+this._id)}}],[{key:"_fromJson",value:function(e,n){n._checkUniqueId(e);var i=new t(n,e);return i}}]),t}(u["default"]));v.TYPE="tab";var _=new h["default"];_.addConversion("_type","type",v.TYPE,!0),_.addConversion("_name","name",null),_.addConversion("_component","component",null),_.addConversion("_config","config",null),_.addConversion("_id","id",null),_.addConversion("_tabEnableClose","enableClose",void 0),_.addConversion("_tabEnableDrag","enableDrag",void 0),_.addConversion("_tabEnableRename","enableRename",void 0),_.addConversion("_tabClassName","className",void 0),_.addConversion("_tabIcon","icon",void 0),t["default"]=v},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(1),s=i(r),l=function(){function e(){o(this,e),this.glass=document.createElement("div"),this.glass.style.zIndex=998,this.glass.style.position="absolute",this.glass.style.backgroundColor="white",this.glass.style.opacity=".00",this.glass.style.filter="alpha(opacity=01)",this.onMouseMove=this.onMouseMove.bind(this),this.onMouseUp=this.onMouseUp.bind(this),this.onKeyPress=this.onKeyPress.bind(this),this.lastClick=0,this.clickX=0,this.clickY=0}return a(e,[{key:"addGlass",value:function(e){if(this.glassShowing)this.manualGlassManagement=!0;else{var t=new s["default"](0,0,document.documentElement.clientWidth,document.documentElement.clientHeight);t.positionElement(this.glass),document.body.appendChild(this.glass),this.glass.tabIndex=-1,this.glass.focus(),this.glass.addEventListener("keydown",this.onKeyPress),this.glassShowing=!0,this.fDragCancel=e,this.manualGlassManagement=!1}}},{key:"hideGlass",value:function(){this.glassShowing&&(document.body.removeChild(this.glass),this.glassShowing=!1)}},{key:"onKeyPress",value:function(e){null!=this.fDragCancel&&27===e.keyCode&&(this.hideGlass(),document.removeEventListener("mousemove",this.onMouseMove),document.removeEventListener("mouseup",this.onMouseUp),this.dragging=!1,this.fDragCancel())}},{key:"getLocationEvent",value:function(e){var t=e;return e.touches&&(t=e.touches[0]),t}},{key:"getLocationEventEnd",value:function(e){var t=e;return e.changedTouches&&(t=e.changedTouches[0]),t}},{key:"stopPropagation",value:function(e){e.stopPropagation&&e.stopPropagation()}},{key:"preventDefault",value:function(e){return e.preventDefault&&e.preventDefault(),e}},{key:"startDrag",value:function(e,t,n,i,o,a,r){var s=this.getLocationEvent(e);this.addGlass(o),this.dragging,null!=e?(this.startX=s.clientX,this.startY=s.clientY,this.glass.style.cursor=getComputedStyle(e.target).cursor,this.stopPropagation(e),this.preventDefault(e)):(this.startX=0,this.startY=0,this.glass.style.cursor="default"),this.dragging=!1,this.fDragStart=t,this.fDragMove=n,this.fDragEnd=i,this.fDragCancel=o,this.fClick=a,
this.fDblClick=r,document.addEventListener("mouseup",this.onMouseUp),document.addEventListener("mousemove",this.onMouseMove),document.addEventListener("touchend",this.onMouseUp),document.addEventListener("touchmove",this.onMouseMove)}},{key:"onMouseMove",value:function(e){var t=this.getLocationEvent(e);return this.stopPropagation(e),this.preventDefault(e),!this.dragging&&(Math.abs(this.startX-t.clientX)>5||Math.abs(this.startY-t.clientY)>5)&&(this.dragging=!0,this.fDragStart&&(this.glass.style.cursor="move",this.dragging=this.fDragStart({clientX:this.startX,clientY:this.startY}))),this.dragging&&this.fDragMove&&this.fDragMove(t),!1}},{key:"onMouseUp",value:function(e){var t=this.getLocationEventEnd(e);if(this.stopPropagation(e),this.preventDefault(e),this.manualGlassManagement||this.hideGlass(),document.removeEventListener("mousemove",this.onMouseMove),document.removeEventListener("mouseup",this.onMouseUp),document.removeEventListener("touchend",this.onMouseUp),document.removeEventListener("touchmove",this.onMouseMove),this.dragging)this.dragging=!1,this.fDragEnd&&this.fDragEnd(e);else if(Math.abs(this.startX-t.clientX)<=5&&Math.abs(this.startY-t.clientY)<=5){var n=(new Date).getTime();Math.abs(this.clickX-t.clientX)<=5&&Math.abs(this.clickY-t.clientY)<=5&&n-this.lastClick<500&&this.fDblClick&&this.fDblClick(e),this.fClick&&this.fClick(e),this.lastClick=n,this.clickX=t.clientX,this.clickY=t.clientY}return!1}},{key:"isDragging",value:function(){return this.dragging}},{key:"toString",value:function(){var e="(DragDrop: startX="+this.startX+", startY="+this.startY+", dragging="+this.dragging+")";return e}}]),e}();l.instance=new l,t["default"]=l},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=n(7),u=i(l),d=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._type=t.TYPE,n._fixed=!0,e._addNode(n),n}return r(t,e),s(t,[{key:"getWidth",value:function(){return this._model.getSplitterSize()}},{key:"getHeight",value:function(){return this._model.getSplitterSize()}}]),t}(u["default"]);d.TYPE="splitter",t["default"]=d},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function o(e,t,i,a,r){n(this,o),this.node=e,this.rect=t,this.location=i,this.index=a,this.className=r};t["default"]=i},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=n(5),u=i(l),d=n(6),h=i(d),c=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onDocMouseUp=n.onDocMouseUp.bind(n),n.hidden=!1,n}return r(t,e),s(t,[{key:"componentDidMount",value:function(){document.addEventListener("mouseup",this.onDocMouseUp)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mouseup",this.onDocMouseUp)}},{key:"onDocMouseUp",value:function(e){setInterval(function(){this.hide()}.bind(this),0)}},{key:"hide",value:function(){this.hidden||(this.props.onHide(),this.hidden=!0)}},{key:"onItemClick",value:function(e,t){this.props.onSelect(e),this.hide(),t.stopPropagation()}},{key:"render",value:function(){var e=this,t=this.props.items.map(function(t){return u["default"].createElement("div",{key:t.index,className:"flexlayout__popup_menu_item",onClick:e.onItemClick.bind(e,t)},t.name)});return u["default"].createElement("div",{className:"popup_menu"},t)}}],[{key:"show",value:function(e,n,i){var o=e.getBoundingClientRect(),a=document.body.getBoundingClientRect(),r=document.createElement("div");r.className="flexlayout__popup_menu_container",r.style.right=a.right-o.right+"px",r.style.top=o.bottom+"px",document.body.appendChild(r);var s=function(){h["default"].unmountComponentAtNode(r),document.body.removeChild(r)};h["default"].render(u["default"].createElement(t,{element:r,onSelect:i,onHide:s,items:n}),r),this.elm=r}}]),t}(u["default"].Component);t["default"]=c},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(10),s=i(r),l=n(4),u=i(l),d=n(11),h=i(d),c=n(8),f=(i(c),n(9)),p=i(f),v=n(1),_=(i(v),n(2)),g=i(_),y=n(3),b=i(y),m=function(){function e(){o(this,e),this._idMap={},this._nextId=0,this._listener=null}return a(e,[{key:"setListener",value:function(e){this._listener=e}},{key:"getActiveTabset",value:function(){var e=null;return this.visitNodes(function(t){"tabset"===t.getType()&&t.isActive()&&(e=t)}),e}},{key:"_clearActiveTabset",value:function(){this.visitNodes(function(e){"tabset"===e.getType()&&(e._active=!1)})}},{key:"getRoot",value:function(){return this._root}},{key:"visitNodes",value:function(e){this._root._forEachNode(e,0)}},{key:"getNodeById",value:function(e){return this._idMap[e]}},{key:"doAction",value:function(e){switch(e.type){case u["default"].ADD_NODE:var t=new h["default"](this,e.json),n=this._idMap[e.toNode];n._drop(t,g["default"].getByName(e.location),e.index);break;case u["default"].MOVE_NODE:var i=this._idMap[e.fromNode],o=this._idMap[e.toNode];o._drop(i,g["default"].getByName(e.location),e.index);break;case u["default"].DELETE_TAB:var a=this._idMap[e.node];a._delete();break;case u["default"].RENAME_TAB:var r=this._idMap[e.node];r._setName(e.text);break;case u["default"].SELECT_TAB:var s=this._idMap[e.tabNode],l=s.getParent(),d=l.getChildren().indexOf(s);l.getSelected()!==d&&l._setSelected(d),this._clearActiveTabset(),l._active=!0;break;case u["default"].SET_ACTIVE_TABSET:var c=this._idMap[e.tabsetNode];this._clearActiveTabset(),c._active=!0;break;case u["default"].ADJUST_SPLIT:var f=this._idMap[e.node1],p=this._idMap[e.node2];this._adjustSplitSide(f,e.weight1,e.pixelWidth1),this._adjustSplitSide(p,e.weight2,e.pixelWidth2);break;case u["default"].MAXIMIZE_TOGGLE:var v=this._idMap[e.node];v._setMaximized(!v.isMaximized()),this._clearActiveTabset(),v._active=!0;break;case u["default"].UPDATE_MODEL_ATTRIBUTES:this._updateAttrs(e.json);break;case u["default"].UPDATE_NODE_ATTRIBUTES:var _=this._idMap[e.node];_._updateAttrs(e.json)}null!==this._listener&&this._listener()}},{key:"_adjustSplitSide",value:function(e,t,n){e._weight=t,null!=e._width&&e.getOrientation()===b["default"].VERT?e._width=n:null!=e._height&&e.getOrientation()===b["default"].HORZ&&(e._height=n)}},{key:"toJson",value:function(){var e={global:{},layout:{}};return w.toJson(e.global,this),this._root._forEachNode(function(e){e._fireEvent("save",null)}),e.layout=this._root._toJson(),e}},{key:"getSplitterSize",value:function(){return this._splitterSize}},{key:"isEnableEdgeDock",value:function(){return this._enableEdgeDock}},{key:"_addNode",value:function(e){if(null==e._id)e._id=this._nextUniqueId();else if(void 0!==this._idMap[e._id])throw"Error: each node must have a unique id, duplicate id: "+e._id;this._idMap[e._id]=e}},{key:"_layout",value:function(e){this._root._layout(e)}},{key:"_tidy",value:function(){this._root._tidy()}},{key:"_updateAttrs",value:function(e){w.updateAttrs(e,this)}},{key:"_nextUniqueId",value:function(){for(this._nextId++;void 0!==this._idMap["#"+this._nextId];)this._nextId++;return"#"+this._nextId}},{key:"_checkUniqueId",value:function(e){}},{key:"toString",value:function(){var e=[];return this._root.toString(e,""),e.join("\n")}}],[{key:"fromJson",value:function(t){var n=new e;return w.fromJson(t.global,n),n._root=s["default"]._fromJson(t.layout,n),n}}]),e}(),w=new p["default"];w.addConversion("_splitterSize","splitterSize",8),w.addConversion("_enableEdgeDock","enableEdgeDock",!0),w.addConversion("_tabEnableClose","tabEnableClose",!0),w.addConversion("_tabEnableDrag","tabEnableDrag",!0),w.addConversion("_tabEnableRename","tabEnableRename",!0),w.addConversion("_tabClassName","tabClassName",null),w.addConversion("_tabIcon","tabIcon",null),w.addConversion("_tabSetEnableClose","tabSetEnableClose",!0),w.addConversion("_tabSetEnableDrop","tabSetEnableDrop",!0),w.addConversion("_tabSetEnableDrag","tabSetEnableDrag",!0),w.addConversion("_tabSetEnableDivide","tabSetEnableDivide",!0),w.addConversion("_tabSetEnableMaximize","tabSetEnableMaximize",!0),w.addConversion("_tabSetClassNameTabStrip","tabSetClassNameTabStrip",null),w.addConversion("_tabSetClassNameHeader","tabSetClassNameHeader",null),w.addConversion("_tabSetEnableTabStrip","tabSetEnableTabStrip",!0),w.addConversion("_tabSetHeaderHeight","tabSetHeaderHeight",20),w.addConversion("_tabSetTabStripHeight","tabSetTabStripHeight",20),t["default"]=m},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function e(){n(this,e)}return i(e,null,[{key:"getGetters",value:function(t,n,i){for(var o=Object.getOwnPropertyNames(n),a=0;a<o.length;a++){var r=o[a];if("function"==typeof n[r]&&r.startsWith("get")){var s=null;try{s=t[r]()}catch(l){}i[r]=s}}var u=Object.getPrototypeOf(n);return void 0!=u&&e.getGetters(t,u,i),i}}]),e}();t["default"]=o},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=n(5),u=i(l),d=n(6),h=i(d),c=n(19),f=i(c),p=n(20),v=i(p),_=n(22),g=i(_),y=n(12),b=i(y),m=n(1),w=i(m),E=n(2),T=i(E),D=n(11),k=i(D),C=n(8),x=i(C),O=n(13),M=i(O),S=n(4),N=i(S),R=n(16),P=i(R),A=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.modelChanged=!1,n.props.model.setListener(n.onModelChange.bind(n)),n.state={model:n.props.model,rect:new w["default"](0,0,0,0)},n}return r(t,e),s(t,[{key:"onModelChange",value:function(){this.modelChanged=!0,this.layout(this.state.model)}},{key:"doAction",value:function(e){void 0!==this.props.onAction?this.props.onAction(e):this.state.model.doAction(e)}},{key:"componentDidMount",value:function(){this.layout(this.state.model),window.addEventListener("resize",function(e){this.layout(this.state.model)}.bind(this))}},{key:"componentWillReceiveProps",value:function(e){this.layout(e.model),this.props.model!==e.model&&(null!=this.props.model&&this.props.model.setListener(null),e.model.setListener(this.onModelChange.bind(this)))}},{key:"shouldComponentUpdate",value:function(e,t){var n=this.state.model!==t.model||!this.state.rect.equals(t.rect)||this.modelChanged;return n}},{key:"layout",value:function(e){if(void 0!=this.refs.self){var t=this.refs.self.getBoundingClientRect(),n=new w["default"](0,0,t.width,t.height);e._layout(n),this.setState({model:e,rect:n})}}},{key:"renderChild",value:function(e,t){for(var n=e._getDrawChildren(),i=0;i<n.length;i++){var o=n[i];if(o.getType()===M["default"].TYPE)t.push(u["default"].createElement(f["default"],{key:o.getId(),layout:this,node:o}));else if(o.getType()===x["default"].TYPE)t.push(u["default"].createElement(g["default"],{key:o.getId(),layout:this,node:o})),this.renderChild(o,t),o.isMaximized()&&(this.maximized=!0);else if(o.getType()===k["default"].TYPE){var a=o.getParent().getChildren()[o.getParent().getSelected()];t.push(u["default"].createElement(v["default"],{key:o.getId(),layout:this,node:o,selected:o===a,factory:this.props.factory}))}else this.renderChild(o,t)}}},{key:"log",value:function(e){console.log(e)}},{key:"render",value:function(){var e=[];return null!=this.state.rect?(this.maximized=!1,this.renderChild(this.state.model.getRoot(),e)):e.push(u["default"].createElement("span",{key:"loading"},"loading...")),this.modelChanged=!1,u["default"].createElement("div",{ref:"self",className:"flexlayout__layout"},e)}},{key:"addTabToTabSet",value:function(e,t){var n=this.state.model.getNodeById(e);null!=n&&this.doAction(N["default"].addNode(t,e,T["default"].CENTER,-1))}},{key:"addTabToActiveTabSet",value:function(e){var t=this.state.model.getActiveTabset();null!=t&&this.doAction(N["default"].addNode(e,t.getId(),T["default"].CENTER,-1))}},{key:"addTabWithDragAndDrop",value:function(e,t,n){this.fnNewNodeDropped=n,this.newTabJson=t,this.dragStart(null,e,new k["default"](this.state.model,t),null,null)}},{key:"addTabWithDragAndDropIndirect",value:function(e,t,n){this.fnNewNodeDropped=n,this.newTabJson=t,b["default"].instance.addGlass(this.onCancelAdd.bind(this)),this.dragDivText=e,this.dragDiv=document.createElement("div"),this.dragDiv.className="flexlayout__drag_rect",this.dragDiv.innerHTML=this.dragDivText,this.dragDiv.addEventListener("mousedown",this.onDragDivMouseDown.bind(this)),this.dragDiv.addEventListener("touchstart",this.onDragDivMouseDown.bind(this));var i=new w["default"](10,10,150,50);i.centerInRect(this.state.rect),i.positionElement(this.dragDiv);var o=h["default"].findDOMNode(this);o.appendChild(this.dragDiv)}},{key:"onCancelAdd",value:function(){var e=h["default"].findDOMNode(this);e.removeChild(this.dragDiv),this.dragDiv=null,null!=this.fnNewNodeDropped&&(this.fnNewNodeDropped(),this.fnNewNodeDropped=null),b["default"].instance.hideGlass()}},{key:"onCancelDrag",value:function(){var e=h["default"].findDOMNode(this);try{e.removeChild(this.outlineDiv)}catch(t){}try{e.removeChild(this.dragDiv)}catch(t){}this.dragDiv=null,this.hideEdges(e),null!=this.fnNewNodeDropped&&(this.fnNewNodeDropped(),this.fnNewNodeDropped=null),b["default"].instance.hideGlass()}},{key:"onDragDivMouseDown",value:function(e){e.preventDefault(),this.dragStart(e,this.dragDivText,new k["default"](this.state.model,this.newTabJson),!0,null,null)}},{key:"dragStart",value:function(e,t,n,i,o,a){this.maximized||!i?b["default"].instance.startDrag(e,null,null,null,null,o,a):(this.dragNode=n,this.dragDivText=t,b["default"].instance.startDrag(e,this.onDragStart.bind(this),this.onDragMove.bind(this),this.onDragEnd.bind(this),this.onCancelDrag.bind(this),o,a))}},{key:"onDragStart",value:function(e){var t=h["default"].findDOMNode(this);return this.outlineDiv=document.createElement("div"),this.outlineDiv.className="flexlayout__outline_rect",t.appendChild(this.outlineDiv),null==this.dragDiv&&(this.dragDiv=document.createElement("div"),this.dragDiv.className="flexlayout__drag_rect",this.dragDiv.innerHTML=this.dragDivText,t.appendChild(this.dragDiv)),this.showEdges(t),null!=this.dragNode&&this.dragNode.getType()===k["default"].TYPE&&null!=this.dragNode.getTabRect()&&this.dragNode.getTabRect().positionElement(this.outlineDiv),this.firstMove=!0,!0}},{key:"onDragMove",value:function(e){this.firstMove===!1&&(this.outlineDiv.style.transition="top .3s, left .3s, width .3s, height .3s"),this.firstMove=!1;var t=this.refs.self.getBoundingClientRect(),n={x:e.clientX-t.left,y:e.clientY-t.top};this.dragDiv.style.left=n.x-75+"px",this.dragDiv.style.top=n.y+"px";var i=this.state.model.getRoot(),o=i._findDropTargetNode(this.dragNode,n.x,n.y);o&&(this.dropInfo=o,this.outlineDiv.className=o.className,o.rect.positionElement(this.outlineDiv))}},{key:"onDragEnd",value:function(e){var t=h["default"].findDOMNode(this);t.removeChild(this.outlineDiv),t.removeChild(this.dragDiv),this.dragDiv=null,this.hideEdges(t),b["default"].instance.hideGlass(),this.dropInfo&&(null!=this.newTabJson?(this.doAction(N["default"].addNode(this.newTabJson,this.dropInfo.node.getId(),this.dropInfo.location,this.dropInfo.index)),null!=this.fnNewNodeDropped&&(this.fnNewNodeDropped(),this.fnNewNodeDropped=null),this.newTabJson=null):null!=this.dragNode&&this.doAction(N["default"].moveNode(this.dragNode.getId(),this.dropInfo.node.getId(),this.dropInfo.location,this.dropInfo.index)))}},{key:"showEdges",value:function(e){if(this.state.model.isEnableEdgeDock()){var t=e.getBoundingClientRect(),n=100,i=n+"px",o="50px",a="10px";this.edgeTopDiv=document.createElement("div"),this.edgeTopDiv.className="flexlayout__edge_rect",this.edgeTopDiv.style.top="0px",this.edgeTopDiv.style.left=(t.width-n)/2+"px",this.edgeTopDiv.style.width=i,this.edgeTopDiv.style.height=a,this.edgeTopDiv.style.borderBottomLeftRadius=o,this.edgeTopDiv.style.borderBottomRightRadius=o,this.edgeLeftDiv=document.createElement("div"),this.edgeLeftDiv.className="flexlayout__edge_rect",this.edgeLeftDiv.style.top=(t.height-n)/2+"px",this.edgeLeftDiv.style.left="0px",this.edgeLeftDiv.style.width=a,this.edgeLeftDiv.style.height=i,this.edgeLeftDiv.style.borderTopRightRadius=o,this.edgeLeftDiv.style.borderBottomRightRadius=o,this.edgeBottomDiv=document.createElement("div"),this.edgeBottomDiv.className="flexlayout__edge_rect",this.edgeBottomDiv.style.bottom="0px",this.edgeBottomDiv.style.left=(t.width-n)/2+"px",this.edgeBottomDiv.style.width=i,this.edgeBottomDiv.style.height=a,this.edgeBottomDiv.style.borderTopLeftRadius=o,this.edgeBottomDiv.style.borderTopRightRadius=o,this.edgeRightDiv=document.createElement("div"),this.edgeRightDiv.className="flexlayout__edge_rect",this.edgeRightDiv.style.top=(t.height-n)/2+"px",this.edgeRightDiv.style.right="0px",this.edgeRightDiv.style.width=a,this.edgeRightDiv.style.height=i,this.edgeRightDiv.style.borderTopLeftRadius=o,this.edgeRightDiv.style.borderBottomLeftRadius=o,e.appendChild(this.edgeTopDiv),e.appendChild(this.edgeLeftDiv),e.appendChild(this.edgeBottomDiv),e.appendChild(this.edgeRightDiv)}}},{key:"hideEdges",value:function(e){if(this.state.model.isEnableEdgeDock())try{e.removeChild(this.edgeTopDiv),e.removeChild(this.edgeLeftDiv),e.removeChild(this.edgeBottomDiv),e.removeChild(this.edgeRightDiv)}catch(t){}}},{key:"maximize",value:function(e){this.doAction(N["default"].maximizeToggle(e.getId()))}},{key:"customizeTab",value:function(e,t){this.props.onRenderTab&&this.props.onRenderTab(e,t)}},{key:"customizeTabSet",value:function(e,t){this.props.onRenderTabSet&&this.props.onRenderTabSet(e,t)}}]),t}(u["default"].Component);A.propTypes={model:u["default"].PropTypes.instanceOf(P["default"]).isRequired,factory:u["default"].PropTypes.func.isRequired,onAction:u["default"].PropTypes.func,onRenderTab:u["default"].PropTypes.func,onRenderTabSet:u["default"].PropTypes.func},t["default"]=A},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=n(5),u=i(l),d=n(6),h=i(d),c=n(12),f=i(c),p=n(3),v=i(p),_=n(4),g=i(_),y=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return r(t,e),s(t,[{key:"onMouseDown",value:function(e){f["default"].instance.startDrag(e,this.onDragStart.bind(this),this.onDragMove.bind(this),this.onDragEnd.bind(this),this.onDragCancel.bind(this))}},{key:"onDragCancel",value:function(){var e=h["default"].findDOMNode(this.props.layout);e.removeChild(this.outlineDiv)}},{key:"onDragStart",value:function(e){this.pBounds=this.props.node.getParent()._getSplitterBounds(this.props.node);var t=h["default"].findDOMNode(this.props.layout);return this.outlineDiv=document.createElement("div"),this.outlineDiv.style.position="absolute",this.outlineDiv.className="flexlayout__splitter_drag",this.outlineDiv.style.cursor=this.props.node.getOrientation()===v["default"].HORZ?"ns-resize":"ew-resize",this.props.node.getRect().positionElement(this.outlineDiv),t.appendChild(this.outlineDiv),!0}},{key:"onDragMove",value:function(e){var t=h["default"].findDOMNode(this.props.layout).getBoundingClientRect(),n={x:e.clientX-t.left,y:e.clientY-t.top};this.props.node.getOrientation()===v["default"].HORZ?this.outlineDiv.style.top=this.getBoundPosition(n.y-4)+"px":this.outlineDiv.style.left=this.getBoundPosition(n.x-4)+"px"}},{key:"onDragEnd",value:function(e){var t=this.props.node,n=0;n=t.getOrientation()===v["default"].HORZ?this.outlineDiv.offsetTop:this.outlineDiv.offsetLeft;var i=t.getParent()._calculateSplit(this.props.node,n);this.props.layout.doAction(g["default"].adjustSplit(i));var o=h["default"].findDOMNode(this.props.layout);o.removeChild(this.outlineDiv)}},{key:"getBoundPosition",value:function(e){var t=e;return e<this.pBounds[0]&&(t=this.pBounds[0]),e>this.pBounds[1]&&(t=this.pBounds[1]),t}},{key:"render",value:function(){var e=this.props.node,t=e._styleWithPosition({cursor:this.props.node.getOrientation()===v["default"].HORZ?"ns-resize":"ew-resize"});return u["default"].createElement("div",{style:t,onTouchStart:this.onMouseDown.bind(this),onMouseDown:this.onMouseDown.bind(this),className:"flexlayout__splitter"})}}]),t}(u["default"].Component);t["default"]=y},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=n(5),u=i(l),d=n(6),h=(i(d),function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={renderComponent:e.selected},n}return r(t,e),s(t,[{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){}},{key:"componentWillReceiveProps",value:function(e){!this.state.renderComponent&&e.selected&&this.setState({renderComponent:!0})}},{key:"render",value:function(){var e=this.props.node,t=e._styleWithPosition({display:this.props.selected?"block":"none"});this.props.node.getParent().isMaximized()&&(t.zIndex=100);var n=null;return this.state.renderComponent&&(n=this.props.factory(e)),u["default"].createElement("div",{className:"flexlayout__tab",style:t},n)}}]),t}(u["default"].Component));t["default"]=h},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=n(5),u=i(l),d=n(6),h=i(d),c=n(1),f=i(c),p=n(15),v=(i(p),n(4)),_=i(v),g=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={editing:!1},n.onEndEdit=n.onEndEdit.bind(n),n}return r(t,e),s(t,[{key:"onMouseDown",value:function(e){this.props.layout.dragStart(e,"Move: "+this.props.node.getName(),this.props.node,this.props.node.isEnableDrag(),this.onClick.bind(this),this.onDoubleClick.bind(this))}},{key:"onClick",value:function(e){var t=this.props.node;this.props.layout.doAction(_["default"].selectTab(t.getId()))}},{key:"onDoubleClick",value:function(e){this.props.node.isEnableRename()&&(this.setState({editing:!0}),document.body.addEventListener("mousedown",this.onEndEdit),document.body.addEventListener("touchstart",this.onEndEdit))}},{key:"onEndEdit",value:function(e){e.target!==this.refs.contents&&(this.setState({editing:!1}),document.body.removeEventListener("mousedown",this.onEndEdit),document.body.removeEventListener("touchstart",this.onEndEdit))}},{key:"onClose",value:function(e){var t=this.props.node;this.props.layout.doAction(_["default"].deleteTab(t.getId()))}},{key:"onCloseMouseDown",value:function(e){e.stopPropagation()}},{key:"componentDidMount",value:function(){this.updateRect()}},{key:"componentDidUpdate",value:function(){this.updateRect(),this.state.editing&&this.refs.contents.select()}},{key:"updateRect",value:function(){var e=h["default"].findDOMNode(this.props.layout).getBoundingClientRect(),t=this.refs.self.getBoundingClientRect();this.props.node.setTabRect(new f["default"](t.left-e.left,t.top-e.top,t.width,t.height)),this.contentWidth=this.refs.contents.getBoundingClientRect().width}},{key:"onTextBoxMouseDown",value:function(e){e.stopPropagation()}},{key:"onTextBoxKeyPress",value:function(e){if(27===e.keyCode)this.setState({editing:!1});else if(13===e.keyCode){this.setState({editing:!1});var t=this.props.node;this.props.layout.doAction(_["default"].renameTab(t.getId(),e.target.value))}}},{key:"doRename",value:function(e,t){this.props.layout.doAction(_["default"].renameTab(e.getId(),t))}},{key:"render",value:function(){var e="flexlayout__tab_button",t=this.props.node;e+=this.props.selected?" flexlayout__tab_button--selected":" flexlayout__tab_button--unselected",null!=this.props.node.getClassName()&&(e+=" "+this.props.node.getClassName());var n=null;null!=t.getIcon()&&(n=u["default"].createElement("img",{src:t.getIcon()}));var i={leading:n,content:t.getName()};this.props.layout.customizeTab(t,i);var o=u["default"].createElement("div",{ref:"contents",className:"flexlayout__tab_button_content"},i.content),a=u["default"].createElement("div",{className:"flexlayout__tab_button_leading"},i.leading);if(this.state.editing){var r={width:this.contentWidth+"px"};o=u["default"].createElement("input",{style:r,ref:"contents",className:"flexlayout__tab_button_textbox",type:"text",autoFocus:!0,defaultValue:t.getName(),onKeyDown:this.onTextBoxKeyPress.bind(this),onMouseDown:this.onTextBoxMouseDown.bind(this),onTouchStart:this.onTextBoxMouseDown.bind(this)})}var s=null;return this.props.node.isEnableClose()&&(s=u["default"].createElement("div",{className:"flexlayout__tab_button_trailing",onMouseDown:this.onCloseMouseDown.bind(this),onClick:this.onClose.bind(this),onTouchStart:this.onCloseMouseDown.bind(this)})),u["default"].createElement("div",{ref:"self",style:{visibility:this.props.show?"visible":"hidden",height:this.props.height},className:e,onMouseDown:this.onMouseDown.bind(this),onTouchStart:this.onMouseDown.bind(this)},a,o,s)}}]),t}(u["default"].Component);t["default"]=g},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=n(5),u=i(l),d=n(6),h=(i(d),n(1)),c=(i(h),n(15)),f=i(c),p=n(4),v=i(p),_=n(21),g=i(_),y=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.recalcVisibleTabs=!0,n.showOverflow=!1,n.showToolbar=!0,n.state={hideTabsAfter:999},n}return r(t,e),s(t,[{key:"componentDidMount",value:function(){this.updateVisibleTabs()}},{key:"componentDidUpdate",value:function(){this.updateVisibleTabs()}},{key:"componentWillReceiveProps",value:function(e){this.showToolbar=!0,this.showOverflow=!1,this.recalcVisibleTabs=!0,this.setState({hideTabsAfter:999})}},{
key:"updateVisibleTabs",value:function(){var e=this.props.node;if(e.isEnableTabStrip()&&this.recalcVisibleTabs){for(var t=this.refs.toolbar.getBoundingClientRect().width,n=999,i=0;i<e.getChildren().length;i++){var o=e.getChildren()[i];if(o.getTabRect().getRight()>e.getRect().getRight()-(20+t)){n=Math.max(0,i-1),this.showOverflow=e.getChildren().length>1,0===i&&(this.showToolbar=!1,o.getTabRect().getRight()>e.getRect().getRight()-20&&(this.showOverflow=!1));break}}this.state.hideTabsAfter!==n&&this.setState({hideTabsAfter:n}),this.recalcVisibleTabs=!1}}},{key:"render",value:function(){var e=this.props.node,t=e._styleWithPosition();this.props.node.isMaximized()&&(t.zIndex=100);var n=[],i=[];if(e.isEnableTabStrip())for(var o=0;o<e.getChildren().length;o++){var a=this.props.node.getSelected()===o,r=this.state.hideTabsAfter>=o,s=e.getChildren()[o];this.state.hideTabsAfter===o&&this.props.node.getSelected()>this.state.hideTabsAfter?(i.push({name:s.getName(),node:s,index:o}),s=e.getChildren()[this.props.node.getSelected()],a=!0):r||a||i.push({name:s.getName(),node:s,index:o}),r&&n.push(u["default"].createElement(g["default"],{layout:this.props.layout,node:s,key:s.getId(),selected:a,show:r,height:e.getTabStripHeight(),pos:o}))}var l=[],d={headerContent:e.getName(),buttons:l};this.props.layout.customizeTabSet(this.props.node,d);var h=d.headerContent;l=d.buttons;var c=null;this.showToolbar===!0&&(this.props.node.isEnableMaximize()&&l.push(u["default"].createElement("button",{key:"max",className:"flexlayout__tab_toolbar_button-"+(e.isMaximized()?"max":"min"),onClick:this.onMaximizeToggle.bind(this)})),c=u["default"].createElement("div",{key:"toolbar",ref:"toolbar",className:"flexlayout__tab_toolbar",onMouseDown:this.onInterceptMouseDown.bind(this)},l)),this.showOverflow===!0&&n.push(u["default"].createElement("button",{key:"overflowbutton",ref:"overflowbutton",className:"flexlayout__tab_button_overflow",onClick:this.onOverflowClick.bind(this,i),onMouseDown:this.onInterceptMouseDown.bind(this)},i.length));var f=null!=e.getName(),p=null,v=null,_="flexlayout__tab_header_outer";if(null!=this.props.node.getClassNameTabStrip()&&(_+=" "+this.props.node.getClassNameTabStrip()),e.isActive()&&!f&&(_+=" flexlayout__tabset-selected"),f){var y="flexlayout__tabset_header";e.isActive()&&(y+=" flexlayout__tabset-selected"),null!=this.props.node.getClassNameHeader()&&(y+=" "+this.props.node.getClassNameHeader()),p=u["default"].createElement("div",{className:y,style:{height:e.getHeaderHeight()+"px"},onMouseDown:this.onMouseDown.bind(this),onTouchStart:this.onMouseDown.bind(this)},h),v=u["default"].createElement("div",{className:_,style:{height:e.getTabStripHeight()+"px",top:e.getHeaderHeight()+"px"}},u["default"].createElement("div",{ref:"header",className:"flexlayout__tab_header_inner"},n))}else v=u["default"].createElement("div",{className:_,style:{top:"0px",height:e.getTabStripHeight()+"px"},onMouseDown:this.onMouseDown.bind(this),onTouchStart:this.onMouseDown.bind(this)},u["default"].createElement("div",{ref:"header",className:"flexlayout__tab_header_inner"},n));return u["default"].createElement("div",{style:t,className:"flexlayout__tabset"},p,v,c)}},{key:"onOverflowClick",value:function(e,t){var n=this.refs.overflowbutton;f["default"].show(n,e,this.onOverflowItemSelect.bind(this))}},{key:"onOverflowItemSelect",value:function(e){this.props.node;this.props.layout.doAction(v["default"].selectTab(e.node.getId()))}},{key:"onMouseDown",value:function(e){var t=this.props.node.getName();t=null==t?"":": "+t,this.props.layout.doAction(v["default"].setActiveTabset(this.props.node.getId())),this.props.layout.dragStart(e,"Move tabset"+t,this.props.node,this.props.node.isEnableDrag(),null,this.onDoubleClick.bind(this))}},{key:"onInterceptMouseDown",value:function(e){e.stopPropagation()}},{key:"onMaximizeToggle",value:function(){this.props.node.isEnableMaximize()&&this.props.layout.maximize(this.props.node)}},{key:"onDoubleClick",value:function(){this.props.node.isEnableMaximize()&&this.props.layout.maximize(this.props.node)}}]),t}(u["default"].Component);t["default"]=y}])});