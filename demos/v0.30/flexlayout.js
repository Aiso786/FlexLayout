!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("react"),require("react-dom")):"function"==typeof define&&define.amd?define(["react","react-dom"],e):"object"==typeof exports?exports.FlexLayout=e(require("react"),require("react-dom")):t.FlexLayout=e(t.React,t.ReactDOM)}(window,function(t,e){return function(t){var e={};function i(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)i.d(n,o,function(e){return t[e]}.bind(null,o));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=18)}([function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),o=function(){function t(t,e,i,n){this.x=t,this.y=e,this.width=i,this.height=n}return t.empty=function(){return new t(0,0,0,0)},t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.equals=function(t){return this.x===t.x&&this.y===t.y&&this.width===t.width&&this.height===t.height},t.prototype.getBottom=function(){return this.y+this.height},t.prototype.getRight=function(){return this.x+this.width},t.prototype.positionElement=function(t){this.styleWithPosition(t.style)},t.prototype.styleWithPosition=function(t){return t.left=this.x+"px",t.top=this.y+"px",t.width=Math.max(0,this.width)+"px",t.height=Math.max(0,this.height)+"px",t.position="absolute",t},t.prototype.contains=function(t,e){return this.x<=t&&t<=this.getRight()&&this.y<=e&&e<=this.getBottom()},t.prototype.removeInsets=function(e){return new t(this.x+e.left,this.y+e.top,Math.max(0,this.width-e.left-e.right),Math.max(0,this.height-e.top-e.bottom))},t.prototype.centerInRect=function(t){this.x=(t.width-this.width)/2,this.y=(t.height-this.height)/2},t.prototype._getSize=function(t){var e=this.width;return t===n.default.VERT&&(e=this.height),e},t.prototype.toString=function(){return"(Rect: x="+this.x+", y="+this.y+", width="+this.width+", height="+this.height+")"},t}();e.default=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t){this._name=t}return t.flip=function(e){return e===t.HORZ?t.VERT:t.HORZ},t.prototype.toString=function(){return this._name},t.HORZ=new t("horz"),t.VERT=new t("vert"),t}();e.default=n},function(e,i){e.exports=t},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=i(1),r=function(){function t(e,i,n){this._name=e,this._orientation=i,this._indexPlus=n,t.values[this._name]=this}return t.prototype.getName=function(){return this._name},t.prototype.getOrientation=function(){return this._orientation},t.getByName=function(e){return t.values[e]},t.getLocation=function(e,i,n){return i<e.x+e.width/4?t.LEFT:i>e.getRight()-e.width/4?t.RIGHT:n<e.y+e.height/4?t.TOP:n>e.getBottom()-e.height/4?t.BOTTOM:t.CENTER},t.prototype.getDockRect=function(e){return this===t.TOP?new n.default(e.x,e.y,e.width,e.height/2):this===t.BOTTOM?new n.default(e.x,e.getBottom()-e.height/2,e.width,e.height/2):this===t.LEFT?new n.default(e.x,e.y,e.width/2,e.height):this===t.RIGHT?new n.default(e.getRight()-e.width/2,e.y,e.width/2,e.height):e.clone()},t.prototype.split=function(e,i){return this===t.TOP?{start:new n.default(e.x,e.y,e.width,i),end:new n.default(e.x,e.y+i,e.width,e.height-i)}:this===t.LEFT?{start:new n.default(e.x,e.y,i,e.height),end:new n.default(e.x+i,e.y,e.width-i,e.height)}:this===t.RIGHT?{start:new n.default(e.getRight()-i,e.y,i,e.height),end:new n.default(e.x,e.y,e.width-i,e.height)}:this===t.BOTTOM?{start:new n.default(e.x,e.getBottom()-i,e.width,i),end:new n.default(e.x,e.y,e.width,e.height-i)}:void 0},t.prototype.reflect=function(){return this===t.TOP?t.BOTTOM:this===t.LEFT?t.RIGHT:this===t.RIGHT?t.LEFT:this===t.BOTTOM?t.TOP:void 0},t.prototype.toString=function(){return"(DockLocation: name="+this._name+", orientation="+this._orientation+")"},t.values={},t.TOP=new t("top",o.default.VERT,0),t.BOTTOM=new t("bottom",o.default.VERT,1),t.LEFT=new t("left",o.default.HORZ,0),t.RIGHT=new t("right",o.default.HORZ,1),t.CENTER=new t("center",o.default.VERT,0),t}();e.default=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(16),o=function(){function t(){}return t.addNode=function(e,i,o,r){return new n.default(t.ADD_NODE,{json:e,toNode:i,location:o.getName(),index:r})},t.moveNode=function(e,i,o,r){return new n.default(t.MOVE_NODE,{fromNode:e,toNode:i,location:o.getName(),index:r})},t.deleteTab=function(e){return new n.default(t.DELETE_TAB,{node:e})},t.renameTab=function(e,i){return new n.default(t.RENAME_TAB,{node:e,text:i})},t.selectTab=function(e){return new n.default(t.SELECT_TAB,{tabNode:e})},t.setActiveTabset=function(e){return new n.default(t.SET_ACTIVE_TABSET,{tabsetNode:e})},t.adjustSplit=function(e){var i=e.node1Id,o=e.node2Id;return new n.default(t.ADJUST_SPLIT,{node1:i,weight1:e.weight1,pixelWidth1:e.pixelWidth1,node2:o,weight2:e.weight2,pixelWidth2:e.pixelWidth2})},t.adjustBorderSplit=function(e,i){return new n.default(t.ADJUST_BORDER_SPLIT,{node:e,pos:i})},t.maximizeToggle=function(e){return new n.default(t.MAXIMIZE_TOGGLE,{node:e})},t.updateModelAttributes=function(e){return new n.default(t.UPDATE_MODEL_ATTRIBUTES,{json:e})},t.updateNodeAttributes=function(e,i){return new n.default(t.UPDATE_NODE_ATTRIBUTES,{node:e,json:i})},t.ADD_NODE="FlexLayout_AddNode",t.MOVE_NODE="FlexLayout_MoveNode",t.DELETE_TAB="FlexLayout_DeleteTab",t.RENAME_TAB="FlexLayout_RenameTab",t.SELECT_TAB="FlexLayout_SelectTab",t.SET_ACTIVE_TABSET="FlexLayout_SetActiveTabset",t.ADJUST_SPLIT="FlexLayout_AdjustSplit",t.ADJUST_BORDER_SPLIT="FlexLayout_AdjustBorderSplit",t.MAXIMIZE_TOGGLE="FlexLayout_MaximizeToggle",t.UPDATE_MODEL_ATTRIBUTES="FlexLayout_UpdateModelAttributes",t.UPDATE_NODE_ATTRIBUTES="FlexLayout_UpdateNodeAttributes",t}();e.default=o},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(6),r=i(0),s=i(3),a=i(1),d=i(12),u=i(9),l=i(7),h=i(13),c=i(11),p=i(10),f=function(t){function e(i,n,o){var r=t.call(this,o)||this;return r._location=i,r._drawChildren=[],r._attributes.id="border_"+i.getName(),e._attributeDefinitions.fromJson(n,r._attributes),o._addNode(r),r}return n(e,t),e.prototype.getLocation=function(){return this._location},e.prototype.getTabHeaderRect=function(){return this._tabHeaderRect},e.prototype.getContentRect=function(){return this._contentRect},e.prototype.isEnableDrop=function(){return this._getAttr("enableDrop")},e.prototype.getClassNameBorder=function(){return this._getAttr("className")},e.prototype.getBorderBarSize=function(){return this._getAttr("barSize")},e.prototype.getSize=function(){return this._attributes.size},e.prototype.getSelected=function(){return this._attributes.selected},e.prototype.getSelectedNode=function(){return-1!==this.getSelected()?this._children[this.getSelected()]:null},e.prototype.getOrientation=function(){return this._location.getOrientation()},e.prototype.isMaximized=function(){return!1},e.prototype.isShowing=function(){return this._attributes.show},e.prototype._setSelected=function(t){this._attributes.selected=t},e.prototype._setSize=function(t){this._attributes.size=t},e.prototype._updateAttrs=function(t){e._attributeDefinitions.update(t,this._attributes)},e.prototype._getDrawChildren=function(){return this._drawChildren},e.prototype._setAdjustedSize=function(t){this._adjustedSize=t},e.prototype._getAdjustedSize=function(){return this._adjustedSize},e.prototype._layoutBorderOuter=function(t){var e=this._location.split(t,this.getBorderBarSize());return this._tabHeaderRect=e.start,e.end},e.prototype._layoutBorderInner=function(t){var e=this;this._drawChildren=[];var i=this._location,n=i.split(t,this._adjustedSize+this._model.getSplitterSize()),o=i.reflect().split(n.start,this._model.getSplitterSize());if(this._contentRect=o.end,this._children.forEach(function(t,i){t._layout(e._contentRect),t._setVisible(i===e.getSelected()),e._drawChildren.push(t)}),-1==this.getSelected())return t;var r=new h.default(this._model);return r._setParent(this),r._setRect(o.start),this._drawChildren.push(r),n.end},e.prototype._remove=function(t){if(-1!==this.getSelected()){var e=this._children[this.getSelected()];if(t===e)this._setSelected(-1),this._removeChild(t);else{this._removeChild(t);for(var i=0;i<this._children.length;i++)if(this._children[i]===e){this._setSelected(i);break}}}else this._removeChild(t)},e.prototype.canDrop=function(t,e,i){if(t.getType()!==u.default.TYPE)return null;var n=null,o=s.default.CENTER;if(this._tabHeaderRect.contains(e,i)){if(this._location._orientation===a.default.VERT)if(this._children.length>0){for(var l=(g=this._children[0].getTabRect()).y,h=g.height,c=this._tabHeaderRect.x,p=0,f=0;f<this._children.length;f++){if(p=(g=this._children[f].getTabRect()).x+g.width/2,e>=c&&e<p){var _=new r.default(g.x-2,l,3,h);n=new d.default(this,_,o,f,"flexlayout__outline_rect");break}c=p}if(null==n){_=new r.default(g.getRight()-2,l,3,h);n=new d.default(this,_,o,this._children.length,"flexlayout__outline_rect")}}else{_=new r.default(this._tabHeaderRect.x+1,this._tabHeaderRect.y+2,3,18);n=new d.default(this,_,o,0,"flexlayout__outline_rect")}else if(this._children.length>0){var g,y=(g=this._children[0].getTabRect()).x,b=g.width;for(c=this._tabHeaderRect.y,p=0,f=0;f<this._children.length;f++){if(p=(g=this._children[f].getTabRect()).y+g.height/2,i>=c&&i<p){_=new r.default(y,g.y-2,b,3);n=new d.default(this,_,o,f,"flexlayout__outline_rect");break}c=p}if(null==n){_=new r.default(y,g.getBottom()-2,b,3);n=new d.default(this,_,o,this._children.length,"flexlayout__outline_rect")}}else{_=new r.default(this._tabHeaderRect.x+2,this._tabHeaderRect.y+1,18,3);n=new d.default(this,_,o,0,"flexlayout__outline_rect")}if(!t._canDockInto(t,n))return null}else if(-1!==this.getSelected()&&this._contentRect.contains(e,i)){_=this._contentRect;if(n=new d.default(this,_,o,-1,"flexlayout__outline_rect"),!t._canDockInto(t,n))return null}return n},e.prototype.drop=function(t,i,n){var o=0,r=t.getParent();null!=r&&(o=r._removeChild(t)),t.getType()===u.default.TYPE&&r===this&&o<n&&n>0&&n--,null!==r&&(r instanceof l.default?r._setSelected(0):r instanceof e&&-1!==r.getSelected()&&(o===r.getSelected()&&r._children.length>0?r._setSelected(0):o<r.getSelected()?r._setSelected(r.getSelected()-1):o>r.getSelected()||r._setSelected(-1)));var s=n;-1===s&&(s=this._children.length),t.getType()===u.default.TYPE&&this._addChild(t,s),-1!==this.getSelected()&&this._setSelected(s),this._model._tidy()},e.prototype._toJson=function(){var t={};return e._attributeDefinitions.toJson(t,this._attributes),t.location=this._location.getName(),t.children=this._children.map(function(t){return t._toJson()}),t},e._fromJson=function(t,i){var n=new e(s.default.getByName(t.location),t,i);return t.children&&(n._children=t.children.map(function(t){var e=u.default._fromJson(t,i);return e._setParent(n),e})),n},e.prototype._getSplitterBounds=function(t){var e=[0,0],i=this._model._getOuterInnerRects().outer,n=this._model._getOuterInnerRects().inner;return this._location===s.default.TOP?(e[0]=i.y,e[1]=n.getBottom()-t.getHeight()):this._location===s.default.LEFT?(e[0]=i.x,e[1]=n.getRight()-t.getWidth()):this._location===s.default.BOTTOM?(e[0]=n.y,e[1]=i.getBottom()-t.getHeight()):this._location===s.default.RIGHT&&(e[0]=n.x,e[1]=i.getRight()-t.getWidth()),e},e.prototype._calculateSplit=function(t,e){var i=this._getSplitterBounds(t);return this._location===s.default.BOTTOM||this._location===s.default.RIGHT?Math.max(0,i[1]-e):Math.max(0,e-i[0])},e.prototype._getAttributeDefinitions=function(){return e._attributeDefinitions},e._createAttributeDefinitions=function(){var t=new p.default;return t.add("type",e.TYPE,!0),t.add("size",200),t.add("selected",-1),t.add("show",!0).setType(c.default.BOOLEAN),t.addInherited("barSize","borderBarSize").setType(c.default.INT).setFrom(0),t.addInherited("enableDrop","borderEnableDrop").setType(c.default.BOOLEAN),t.addInherited("className","borderClassName").setType(c.default.STRING),t},e.TYPE="border",e._attributeDefinitions=e._createAttributeDefinitions(),e}(o.default);e.default=f},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=i(1),r=i(3),s=function(){function t(t){this._model=t,this._attributes={},this._parent=null,this._children=[],this._fixed=!1,this._rect=n.default.empty(),this._visible=!1,this._listeners={}}return t.prototype.getId=function(){return this._attributes.id},t.prototype.getModel=function(){return this._model},t.prototype.getType=function(){return this._attributes.type},t.prototype.getParent=function(){return this._parent},t.prototype.getChildren=function(){return this._children},t.prototype.getRect=function(){return this._rect},t.prototype.isVisible=function(){return this._visible},t.prototype.getOrientation=function(){return null==this._parent?o.default.HORZ:o.default.flip(this._parent.getOrientation())},t.prototype.setEventListener=function(t,e){this._listeners[t]=e},t.prototype.removeEventListener=function(t){delete this._listeners[t]},t.prototype._setId=function(t){this._attributes.id=t},t.prototype._fireEvent=function(t,e){null!=this._listeners[t]&&this._listeners[t](e)},t.prototype._getAttr=function(t){var e=this._attributes[t];if(void 0===e){var i=this._getAttributeDefinitions().getModelName(t);null!=i&&(e=this._model._getAttribute(i))}return e},t.prototype._forEachNode=function(t,e){t(this,e),e++,this._children.forEach(function(i){i._forEachNode(t,e)})},t.prototype._setVisible=function(t){t!==this._visible&&(this._fireEvent("visibility",{visible:t}),this._visible=t)},t.prototype._getDrawChildren=function(){return this._children},t.prototype._setParent=function(t){this._parent=t},t.prototype._setRect=function(t){this._rect=t},t.prototype._setWeight=function(t){this._attributes.weight=t},t.prototype._setSelected=function(t){this._attributes.selected=t},t.prototype._isFixed=function(){return this._fixed},t.prototype._layout=function(t){this._rect=t},t.prototype._findDropTargetNode=function(t,e,i){var n=null;if(this._rect.contains(e,i)&&null==(n=this.canDrop(t,e,i))&&0!==this._children.length)for(var o=0;o<this._children.length;o++){if(null!=(n=this._children[o]._findDropTargetNode(t,e,i)))break}return n},t.prototype.canDrop=function(t,e,i){return null},t.prototype._canDockInto=function(t,e){if(null!=e){if(e.location===r.default.CENTER&&!1===e.node.isEnableDrop())return!1;if(e.location===r.default.CENTER&&"tabset"===t.getType()&&null!==t.getName())return!1;if(e.location!==r.default.CENTER&&!1===e.node.isEnableDivide())return!1;if(this._model._getOnAllowDrop())return this._model._getOnAllowDrop()(t,e)}return!0},t.prototype._removeChild=function(t){var e=this._children.indexOf(t);return-1!==e&&this._children.splice(e,1),this._dirty=!0,e},t.prototype._addChild=function(t,e){return null!=e?this._children.splice(e,0,t):(this._children.push(t),e=this._children.length-1),t._parent=this,this._dirty=!0,e},t.prototype._removeAll=function(){this._children=[],this._dirty=!0},t.prototype._styleWithPosition=function(t){return null==t&&(t={}),this._rect.styleWithPosition(t)},t.prototype._getTempSize=function(){return this._tempSize},t.prototype._setTempSize=function(t){this._tempSize=t},t.prototype.isEnableDivide=function(){return!0},t.prototype._toAttributeString=function(){return JSON.stringify(this._attributes,null,"\t")},t}();e.default=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(10),s=i(11),a=i(3),d=i(12),u=i(6),l=i(9),h=i(15),c=i(5),p=i(1),f=function(t){function e(i,n){var o=t.call(this,i)||this;return e._attributeDefinitions.fromJson(n,o._attributes),i._addNode(o),o}return n(e,t),e.prototype.getName=function(){return this._attributes.name},e.prototype.getSelected=function(){return this._attributes.selected},e.prototype.getSelectedNode=function(){var t=this.getSelected();return-1!==t?this._children[t]:null},e.prototype.getWeight=function(){return this._attributes.weight},e.prototype.getWidth=function(){return this._attributes.width},e.prototype.getHeight=function(){return this._attributes.height},e.prototype.isMaximized=function(){return this._model.getMaximizedTabset()===this},e.prototype.isActive=function(){return this._model.getActiveTabset()===this},e.prototype.isEnableDeleteWhenEmpty=function(){return this._getAttr("enableDeleteWhenEmpty")},e.prototype.isEnableClose=function(){return this._getAttr("enableClose")},e.prototype.isEnableDrop=function(){return this._getAttr("enableDrop")},e.prototype.isEnableDrag=function(){return this._getAttr("enableDrag")},e.prototype.isEnableDivide=function(){return this._getAttr("enableDivide")},e.prototype.isEnableMaximize=function(){return this._getAttr("enableMaximize")},e.prototype.isEnableTabStrip=function(){return this._getAttr("enableTabStrip")},e.prototype.getClassNameTabStrip=function(){return this._getAttr("classNameTabStrip")},e.prototype.getClassNameHeader=function(){return this._getAttr("classNameHeader")},e.prototype.getHeaderHeight=function(){return this._getAttr("headerHeight")},e.prototype.getTabStripHeight=function(){return this._getAttr("tabStripHeight")},e.prototype._setWeight=function(t){this._attributes.weight=t},e.prototype._setSelected=function(t){this._attributes.selected=t},e.prototype.canDrop=function(t,e,i){var n=null;if(t===this){var r=a.default.CENTER,s=this._tabHeaderRect;n=new d.default(this,s,r,-1,"flexlayout__outline_rect")}else if(this._contentRect.contains(e,i)){s=(r=a.default.getLocation(this._contentRect,e,i)).getDockRect(this._rect);n=new d.default(this,s,r,-1,"flexlayout__outline_rect")}else if(this._children.length>0&&null!=this._tabHeaderRect&&this._tabHeaderRect.contains(e,i)){for(var u=this._children[0],l=u.getTabRect(),h=l.y,c=l.height,p=this._tabHeaderRect.x,f=0,_=0;_<this._children.length;_++){if(f=(l=(u=this._children[_]).getTabRect()).x+l.width/2,e>=p&&e<f){r=a.default.CENTER,s=new o.default(l.x-2,h,3,c);n=new d.default(this,s,r,_,"flexlayout__outline_rect");break}p=f}if(null==n){r=a.default.CENTER,s=new o.default(l.getRight()-2,h,3,c);n=new d.default(this,s,r,this._children.length,"flexlayout__outline_rect")}}return t._canDockInto(t,n)?n:null},e.prototype._layout=function(t){var e=this;this.isMaximized()&&(t=this._model.getRoot().getRect()),t=t.removeInsets(this._getAttr("marginInsets")),this._rect=t,t=t.removeInsets(this._getAttr("borderInsets"));var i=0;null!=this.getName()&&(this._headerRect=new o.default(t.x,t.y,t.width,this.getHeaderHeight()),i+=this.getHeaderHeight()),this.isEnableTabStrip()&&(this._tabHeaderRect=new o.default(t.x,t.y+i,t.width,this.getTabStripHeight()),i+=this.getTabStripHeight()),this._contentRect=new o.default(t.x,t.y+i,t.width,t.height-i),this._children.forEach(function(t,i){t._layout(e._contentRect),t._setVisible(i===e.getSelected())})},e.prototype._remove=function(t){this._removeChild(t),this._model._tidy(),this._setSelected(Math.max(0,this.getSelected()-1))},e.prototype.drop=function(t,i,n){var o=this,r=i;if(this!==t){var s=t.getParent(),d=0;if(null!=s&&(s.getSelectedNode,d=s._removeChild(t)),t.getType()===l.default.TYPE&&s===this&&d<n&&n>0&&n--,null!==s&&(s.getType()===e.TYPE?s._setSelected(0):s.getType()===c.default.TYPE&&-1!==s.getSelected()&&(d===s.getSelected()&&s.getChildren().length>0?s._setSelected(0):d<s.getSelected()?s._setSelected(s.getSelected()-1):d>s.getSelected()||s._setSelected(-1))),r===a.default.CENTER){var u=n;-1===u&&(u=this._children.length),t.getType()===l.default.TYPE?(this._addChild(t,u),this._setSelected(u)):t.getChildren().forEach(function(t,e){o._addChild(t,u),u++}),this._model._setActiveTabset(this)}else{var p=null;t instanceof l.default?((p=new e(this._model,{}))._addChild(t),s=p):p=t;var f=this._parent,_=f.getChildren().indexOf(this);if(f.getOrientation()===r._orientation)p._setWeight(this.getWeight()/2),this._setWeight(this.getWeight()/2),f._addChild(p,_+r._indexPlus);else{var g=new h.default(this._model,{});g._setWeight(this.getWeight()),g._addChild(this),this._setWeight(50),p._setWeight(50),g._addChild(p,r._indexPlus),f._removeChild(this),f._addChild(g,_)}this._model._setActiveTabset(p)}this._model._tidy()}},e.prototype._toJson=function(){var t={};return e._attributeDefinitions.toJson(t,this._attributes),t.children=this._children.map(function(t){return t._toJson()}),this.isActive()&&(t.active=!0),this.isMaximized()&&(t.maximized=!0),t},e.prototype._updateAttrs=function(t){e._attributeDefinitions.update(t,this._attributes)},e._fromJson=function(t,i){var n=new e(i,t);return null!=t.children&&t.children.forEach(function(t){var e=l.default._fromJson(t,i);n._addChild(e)}),t.maximized&&!0===t.maximized&&i._setMaximizedTabset(n),t.active&&!0===t.active&&i._setActiveTabset(n),n},e.prototype._getAttributeDefinitions=function(){return e._attributeDefinitions},e.prototype._getPrefSize=function(t){var e=this.getWidth();return t===p.default.VERT&&(e=this.getHeight()),e},e._createAttributeDefinitions=function(){var t=new r.default;return t.add("type",e.TYPE,!0),t.add("id",null).setType(s.default.ID),t.add("weight",100),t.add("width",null),t.add("height",null),t.add("selected",0),t.add("name",null).setType(s.default.STRING),t.addInherited("enableDeleteWhenEmpty","tabSetEnableDeleteWhenEmpty"),t.addInherited("enableClose","tabSetEnableClose"),t.addInherited("enableDrop","tabSetEnableDrop"),t.addInherited("enableDrag","tabSetEnableDrag"),t.addInherited("enableDivide","tabSetEnableDivide"),t.addInherited("enableMaximize","tabSetEnableMaximize"),t.addInherited("classNameTabStrip","tabSetClassNameTabStrip"),t.addInherited("classNameHeader","tabSetClassNameHeader"),t.addInherited("enableTabStrip","tabSetEnableTabStrip"),t.addInherited("borderInsets","tabSetBorderInsets"),t.addInherited("marginInsets","tabSetMarginInsets"),t.addInherited("headerHeight","tabSetHeaderHeight"),t.addInherited("tabStripHeight","tabSetTabStripHeight"),t},e.TYPE="tabset",e._attributeDefinitions=e._createAttributeDefinitions(),e}(u.default);e.default=f},function(t,i){t.exports=e},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(6),r=i(10),s=i(11),a=function(t){function e(i,n){var o=t.call(this,i)||this;return o._tabRect=null,o._extra={},e._attributeDefinitions.fromJson(n,o._attributes),i._addNode(o),o}return n(e,t),e.prototype.getTabRect=function(){return this._tabRect},e.prototype.setTabRect=function(t){this._tabRect=t},e.prototype.getName=function(){return this._attributes.name},e.prototype.getComponent=function(){return this._attributes.component},e.prototype.getConfig=function(){return this._attributes.config},e.prototype.getExtraData=function(){return this._extra},e.prototype.getIcon=function(){return this._attributes.icon},e.prototype.isEnableClose=function(){return this._getAttr("enableClose")},e.prototype.isEnableDrag=function(){return this._getAttr("enableDrag")},e.prototype.isEnableRename=function(){return this._getAttr("enableRename")},e.prototype.getClassName=function(){return this._getAttr("className")},e.prototype._setName=function(t){this._attributes.name=t},e.prototype._layout=function(t){t.equals(this._rect)||this._fireEvent("resize",{rect:t}),this._rect=t},e.prototype._delete=function(){this._parent._remove(this),this._fireEvent("close",{})},e._fromJson=function(t,i){return new e(i,t)},e.prototype._toJson=function(){var t={};return e._attributeDefinitions.toJson(t,this._attributes),t},e.prototype._updateAttrs=function(t){e._attributeDefinitions.update(t,this._attributes)},e.prototype._getAttributeDefinitions=function(){return e._attributeDefinitions},e._createAttributeDefinitions=function(){var t=new r.default;return t.add("type",e.TYPE,!0),t.add("id",null).setType(s.default.ID),t.add("name",null).setType(s.default.STRING),t.add("component",null).setType(s.default.STRING),t.add("config",null).setType(s.default.JSON),t.addInherited("enableClose","tabEnableClose").setType(s.default.BOOLEAN),t.addInherited("enableDrag","tabEnableDrag").setType(s.default.BOOLEAN),t.addInherited("enableRename","tabEnableRename").setType(s.default.BOOLEAN),t.addInherited("className","tabClassName").setType(s.default.STRING),t.addInherited("icon","tabIcon").setType(s.default.STRING),t},e.TYPE="tab",e._attributeDefinitions=e._createAttributeDefinitions(),e}(o.default);e.default=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(11),o=function(){function t(){this.attributes=[],this.nameToAttribute={}}return t.prototype.addWithAll=function(t,e,i,o){var r=new n.default(t,e,i,o);return this.attributes.push(r),this.nameToAttribute[t]=r,r},t.prototype.addInherited=function(t,e){return this.addWithAll(t,e,void 0,!1)},t.prototype.add=function(t,e,i){return this.addWithAll(t,null,e,i)},t.prototype.getAttributes=function(){return this.attributes},t.prototype.getModelName=function(t){var e=this.nameToAttribute[t];return null!=e?e.modelName:null},t.prototype.toJson=function(t,e){this.attributes.forEach(function(i){var n=e[i.name];(i.alwaysWriteJson||n!==i.defaultValue)&&(t[i.name]=n)})},t.prototype.fromJson=function(t,e){this.attributes.forEach(function(i){var n=t[i.name];e[i.name]=void 0===n?i.defaultValue:n})},t.prototype.update=function(t,e){this.attributes.forEach(function(i){var n=t[i.name];void 0!==n&&(e[i.name]=n)})},t.prototype.setDefaults=function(t){this.attributes.forEach(function(e){t[e.name]=e.defaultValue})},t}();e.default=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e,i,n){this.name=t,this.modelName=e,this.defaultValue=i,this.alwaysWriteJson=n,this.type=null,this.values=[],this.from=-99999999,this.to=99999999}return t.prototype.setType=function(t){return this.type=t,this},t.prototype.setValues=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this.values=t,this},t.prototype.setFrom=function(t){return this.from=t,this},t.prototype.setTo=function(t){return this.to=t,this},t.ENUM="Enum",t.INT="Int",t.NUMBER="Number",t.STRING="String",t.BOOLEAN="Boolean",t.ID="Id",t.JSON="Json",t}();e.default=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){return function(t,e,i,n,o){this.node=t,this.rect=e,this.location=i,this.index=n,this.className=o}}();e.default=n},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(i){var n=t.call(this,i)||this;return n._fixed=!0,n._attributes.type=e.TYPE,i._addNode(n),n}return n(e,t),e.prototype.getWidth=function(){return this._model.getSplitterSize()},e.prototype.getHeight=function(){return this._model.getSplitterSize()},e.prototype.getWeight=function(){return 0},e.prototype._setWeight=function(t){},e.prototype._getPrefSize=function(t){return this._model.getSplitterSize()},e.prototype._updateAttrs=function(t){},e.prototype._getAttributeDefinitions=function(){return null},e.prototype._toJson=function(){return null},e.TYPE="splitter",e}(i(6).default);e.default=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=function(){function t(){this._glass=document.createElement("div"),this._glass.style.zIndex="998",this._glass.style.position="absolute",this._glass.style.backgroundColor="white",this._glass.style.opacity=".00",this._glass.style.filter="alpha(opacity=01)",this._onMouseMove=this._onMouseMove.bind(this),this._onMouseUp=this._onMouseUp.bind(this),this._onKeyPress=this._onKeyPress.bind(this),this._lastClick=0,this._clickX=0,this._clickY=0}return t.prototype.addGlass=function(t){this._glassShowing?this._manualGlassManagement=!0:(new n.default(0,0,document.documentElement.clientWidth,document.documentElement.clientHeight).positionElement(this._glass),document.body.appendChild(this._glass),this._glass.tabIndex=-1,this._glass.focus(),this._glass.addEventListener("keydown",this._onKeyPress),this._glassShowing=!0,this._fDragCancel=t,this._manualGlassManagement=!1)},t.prototype.hideGlass=function(){this._glassShowing&&(document.body.removeChild(this._glass),this._glassShowing=!1)},t.prototype._onKeyPress=function(t){null!=this._fDragCancel&&27===t.keyCode&&(this.hideGlass(),document.removeEventListener("mousemove",this._onMouseMove),document.removeEventListener("mouseup",this._onMouseUp),this._fDragCancel(this._dragging),this._dragging=!1)},t.prototype._getLocationEvent=function(t){var e=t;return t.touches&&(e=t.touches[0]),e},t.prototype._getLocationEventEnd=function(t){var e=t;return t.changedTouches&&(e=t.changedTouches[0]),e},t.prototype._stopPropagation=function(t){t.stopPropagation&&t.stopPropagation()},t.prototype._preventDefault=function(t){return t.preventDefault&&t.preventDefault(),t},t.prototype.startDrag=function(t,e,i,n,o,r,s){var a=this._getLocationEvent(t);this.addGlass(o),this._dragging,null!=t?(this._startX=a.clientX,this._startY=a.clientY,this._glass.style.cursor=getComputedStyle(t.target).cursor,this._stopPropagation(t),this._preventDefault(t)):(this._startX=0,this._startY=0,this._glass.style.cursor="default"),this._dragging=!1,this._fDragStart=e,this._fDragMove=i,this._fDragEnd=n,this._fDragCancel=o,this._fClick=r,this._fDblClick=s,document.addEventListener("mouseup",this._onMouseUp),document.addEventListener("mousemove",this._onMouseMove),document.addEventListener("touchend",this._onMouseUp),document.addEventListener("touchmove",this._onMouseMove)},t.prototype._onMouseMove=function(t){var e=this._getLocationEvent(t);return this._stopPropagation(t),this._preventDefault(t),!this._dragging&&(Math.abs(this._startX-e.clientX)>5||Math.abs(this._startY-e.clientY)>5)&&(this._dragging=!0,this._fDragStart&&(this._glass.style.cursor="move",this._dragging=this._fDragStart({clientX:this._startX,clientY:this._startY}))),this._dragging&&this._fDragMove&&this._fDragMove(e),!1},t.prototype._onMouseUp=function(t){var e=this._getLocationEventEnd(t);if(this._stopPropagation(t),this._preventDefault(t),this._manualGlassManagement||this.hideGlass(),document.removeEventListener("mousemove",this._onMouseMove),document.removeEventListener("mouseup",this._onMouseUp),document.removeEventListener("touchend",this._onMouseUp),document.removeEventListener("touchmove",this._onMouseMove),this._dragging)this._dragging=!1,this._fDragEnd&&this._fDragEnd(t);else if(this._fDragCancel&&this._fDragCancel(this._dragging),Math.abs(this._startX-e.clientX)<=5&&Math.abs(this._startY-e.clientY)<=5){var i=(new Date).getTime();Math.abs(this._clickX-e.clientX)<=5&&Math.abs(this._clickY-e.clientY)<=5&&i-this._lastClick<500&&this._fDblClick&&this._fDblClick(t),this._fClick&&this._fClick(t),this._lastClick=i,this._clickX=e.clientX,this._clickY=e.clientY}return!1},t.prototype.isDragging=function(){return this._dragging},t.prototype.toString=function(){return"(DragDrop: startX="+this._startX+", startY="+this._startY+", dragging="+this._dragging+")"},t.instance=new t,t}();e.default=o},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(10),s=i(1),a=i(3),d=i(13),u=i(6),l=i(7),h=i(5),c=i(12),p=function(t){function e(i,n){var o=t.call(this,i)||this;return o._dirty=!0,o._drawChildren=[],e._attributeDefinitions.fromJson(n,o._attributes),i._addNode(o),o}return n(e,t),e.prototype.getWeight=function(){return this._attributes.weight},e.prototype.getWidth=function(){return this._attributes.width},e.prototype.getHeight=function(){return this._attributes.height},e.prototype._setWeight=function(t){this._attributes.weight=t},e.prototype._layout=function(e){t.prototype._layout.call(this,e);for(var i=this._rect._getSize(this.getOrientation()),n=0,r=0,a=0,d=0,u=this._getDrawChildren(),l=0;l<u.length;l++){var h=(y=u[l])._getPrefSize(this.getOrientation());y._isFixed()?r+=h:(null==h?n+=y.getWeight():(a+=h,d+=y.getWeight()),0)}var c=!1,p=i-r-a;p<0&&(p=i-r,c=!0,n+=d);var f=0,_=0;for(l=0;l<u.length;l++){h=(y=u[l])._getPrefSize(this.getOrientation());y._isFixed()?y._setTempSize(h):null==h||c?(0===n?y._setTempSize(0):y._setTempSize(Math.floor(p*(y.getWeight()/n))),_+=y._getTempSize()):y._setTempSize(h),f+=y._getTempSize()}if(_>0)for(;f<i;)for(l=0;l<u.length;l++){h=(y=u[l])._getPrefSize(this.getOrientation());!y._isFixed()&&(null==h||c)&&f<i&&(y._setTempSize(y._getTempSize()+1),f++)}s.default.flip(this.getOrientation());var g=0;for(l=0;l<u.length;l++){var y=u[l];this.getOrientation()===s.default.HORZ?y._layout(new o.default(this._rect.x+g,this._rect.y,y._getTempSize(),this._rect.height)):y._layout(new o.default(this._rect.x,this._rect.y+g,this._rect.width,y._getTempSize())),g+=y._getTempSize()}return!0},e.prototype._getSplitterBounds=function(t){var e=[0,0],i=this._getDrawChildren(),n=i.indexOf(t);return this.getOrientation()===s.default.HORZ?(e[0]=i[n-1].getRect().x,e[1]=i[n+1].getRect().getRight()-t.getWidth()):(e[0]=i[n-1].getRect().y,e[1]=i[n+1].getRect().getBottom()-t.getHeight()),e},e.prototype._calculateSplit=function(t,e){var i=null,n=this._getDrawChildren(),o=n.indexOf(t),r=this._getSplitterBounds(t),s=n[o-1].getWeight()+n[o+1].getWeight(),a=Math.max(0,e-r[0]),d=Math.max(0,r[1]-e);if(a+d>0){var u=a*s/(a+d),l=d*s/(a+d);i={node1Id:n[o-1].getId(),weight1:u,pixelWidth1:a,node2Id:n[o+1].getId(),weight2:l,pixelWidth2:d}}return i},e.prototype._getDrawChildren=function(){if(this._dirty){this._drawChildren=[];for(var t=0;t<this._children.length;t++){var e=this._children[t];if(0!==t){var i=new d.default(this._model);i._setParent(this),this._drawChildren.push(i)}this._drawChildren.push(e)}this._dirty=!1}return this._drawChildren},e.prototype._tidy=function(){for(var t=0;t<this._children.length;){if((d=this._children[t])instanceof e){d._tidy();var i=d.getChildren();if(0===i.length)this._removeChild(d);else if(1===i.length){var n=i[0];if(this._removeChild(d),n instanceof e){for(var o=0,r=n.getChildren(),s=0;s<r.length;s++){o+=(a=r[s]).getWeight()}for(s=0;s<r.length;s++){var a;(a=r[s])._setWeight(d.getWeight()*a.getWeight()/o),this._addChild(a,t+s)}}else n._setWeight(d.getWeight()),this._addChild(n,t)}else t++}else d instanceof l.default&&0===d.getChildren().length&&d.isEnableDeleteWhenEmpty()?this._removeChild(d):t++}if(this===this._model.getRoot()&&0===this._children.length){var d=new l.default(this._model,{type:"tabset"});this._addChild(d)}},e.prototype.canDrop=function(t,e,i){var n=i-this._rect.y,o=e-this._rect.x,r=this._rect.width,s=this._rect.height,d=null;if(this._model.isEnableEdgeDock()&&null==this._parent){if(e<this._rect.x+10&&n>s/2-50&&n<s/2+50)(l=(u=a.default.LEFT).getDockRect(this._rect)).width=l.width/2,d=new c.default(this,l,u,-1,"flexlayout__outline_rect_edge");else if(e>this._rect.getRight()-10&&n>s/2-50&&n<s/2+50){(l=(u=a.default.RIGHT).getDockRect(this._rect)).width=l.width/2,l.x+=l.width,d=new c.default(this,l,u,-1,"flexlayout__outline_rect_edge")}else if(i<this._rect.y+10&&o>r/2-50&&o<r/2+50){(l=(u=a.default.TOP).getDockRect(this._rect)).height=l.height/2,d=new c.default(this,l,u,-1,"flexlayout__outline_rect_edge")}else if(i>this._rect.getBottom()-10&&o>r/2-50&&o<r/2+50){var u,l;(l=(u=a.default.BOTTOM).getDockRect(this._rect)).height=l.height/2,l.y+=l.height,d=new c.default(this,l,u,-1,"flexlayout__outline_rect_edge")}if(null!=d&&!t._canDockInto(t,d))return null}return d},e.prototype.drop=function(t,i,n){var o=i,r=t.getParent();r&&r._removeChild(t),null!==r&&r.getType()===l.default.TYPE&&r._setSelected(0),null!==r&&r.getType()===h.default.TYPE&&r._setSelected(-1);var s=null;t instanceof l.default?s=t:(s=new l.default(this._model,{}))._addChild(t);var d=this._children.reduce(function(t,e){return t+e.getWeight()},0);if(0===d&&(d=100),s._setWeight(d/3),o===a.default.LEFT)this._addChild(s,0);else if(o===a.default.RIGHT)this._addChild(s);else if(o===a.default.TOP){var u=new e(this._model,{}),c=new e(this._model,{});c._setWeight(75),s._setWeight(25),this._children.forEach(function(t){c._addChild(t)}),this._removeAll(),u._addChild(s),u._addChild(c),this._addChild(u)}else if(o===a.default.BOTTOM){u=new e(this._model,{});var p=new e(this._model,{});p._setWeight(75),s._setWeight(25),this._children.forEach(function(t){p._addChild(t)}),this._removeAll(),u._addChild(p),u._addChild(s),this._addChild(u)}this._model._setActiveTabset(s),this._model._tidy()},e.prototype._toJson=function(){var t={};return e._attributeDefinitions.toJson(t,this._attributes),t.children=[],this._children.forEach(function(e){t.children.push(e._toJson())}),t},e._fromJson=function(t,i){var n=new e(i,t);if(null!=t.children)for(var o=0;o<t.children.length;o++){var r=t.children[o];if(r.type===l.default.TYPE){var s=l.default._fromJson(r,i);n._addChild(s)}else{s=e._fromJson(r,i);n._addChild(s)}}return n},e.prototype.isEnableDrop=function(){return!0},e.prototype._getPrefSize=function(t){var e=this.getWidth();return t===s.default.VERT&&(e=this.getHeight()),e},e.prototype._getAttributeDefinitions=function(){return e._attributeDefinitions},e.prototype._updateAttrs=function(t){e._attributeDefinitions.update(t,this._attributes)},e._createAttributeDefinitions=function(){var t=new r.default;return t.add("type",e.TYPE,!0),t.add("id",null),t.add("weight",100),t.add("width",null),t.add("height",null),t},e.TYPE="row",e._attributeDefinitions=e._createAttributeDefinitions(),e}(u.default);e.default=p},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){return function(t,e){this.type=t,this.data=e}}();e.default=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(5),o=i(1),r=function(){function t(t){this._model=t,this._borders=[]}return t.prototype.getBorders=function(){return this._borders},t.prototype._forEachNode=function(t){this._borders.forEach(function(e){t(e,0),e.getChildren().forEach(function(e){e._forEachNode(t,1)})})},t.prototype._toJson=function(){return this._borders.map(function(t){return t._toJson()})},t._fromJson=function(e,i){var o=new t(i);return o._borders=e.map(function(t){return n.default._fromJson(t,i)}),o},t.prototype._layoutBorder=function(t){for(var e=t.outer,i=e.height,n=e.width,r=0,s=0,a=0,d=0,u=this._borders.filter(function(t){return t.isShowing()}),l=0;l<u.length;l++){if((p=u[l]).isShowing()){p._setAdjustedSize(p.getSize());var h=-1!==p.getSelected();p.getLocation().getOrientation()===o.default.HORZ?(s+=p.getBorderBarSize()+this._model.getSplitterSize(),h&&(s+=p.getSize(),d+=p.getSize()),0):(r+=p.getBorderBarSize()+this._model.getSplitterSize(),h&&(r+=p.getSize(),a+=p.getSize()),0)}}for(var c=0;s>n&&d>0||r>i&&a>0;){var p;if(-1!==(p=u[c]).getSelected()){var f=p._getAdjustedSize();s>n&&d>0&&p.getLocation().getOrientation()===o.default.HORZ&&f>0?(p._setAdjustedSize(f-1),s--,d--):r>i&&a>0&&p.getLocation().getOrientation()===o.default.VERT&&f>0&&(p._setAdjustedSize(f-1),r--,a--)}c=(c+1)%u.length}return u.forEach(function(e){t.outer=e._layoutBorderOuter(t.outer)}),t.inner=t.outer,u.forEach(function(e){t.inner=e._layoutBorderInner(t.inner)}),t},t.prototype._findDropTargetNode=function(t,e,i){for(var n=0;n<this._borders.length;n++){var o=this._borders[n];if(o.isShowing()){var r=o.canDrop(t,e,i);if(null!=r)return r}}return null},t}();e.default=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(19);e.Layout=n.default;var o=i(4);e.Actions=o.default;var r=i(16);e.Action=r.default;var s=i(27);e.Model=s.default;var a=i(6);e.Node=a.default;var d=i(15);e.RowNode=d.default;var u=i(13);e.SplitterNode=u.default;var l=i(9);e.TabNode=l.default;var h=i(7);e.TabSetNode=h.default;var c=i(5);e.BorderNode=c.default;var p=i(17);e.BorderSet=p.default;var f=i(3);e.DockLocation=f.default;var _=i(1);e.Orientation=_.default;var g=i(14);e.DragDrop=g.default;var y=i(12);e.DropInfo=y.default;var b=i(0);e.Rect=b.default,e.default={Layout:n.default,Actions:o.default,Action:r.default,Model:s.default,Node:a.default,RowNode:d.default,SplitterNode:u.default,TabNode:l.default,TabSetNode:h.default,BorderNode:c.default,BorderSet:p.default,DockLocation:f.default,Orientation:_.default,DragDrop:g.default,DropInfo:y.default,Rect:b.default}},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(2),r=i(8),s=i(20),a=i(21),d=i(22),u=i(25),l=i(14),h=i(0),c=i(3),p=i(9),f=i(7),_=i(13),g=i(4),y=function(t){function e(e){var i=t.call(this,e)||this;return i.model=i.props.model,i.rect=new h.default(0,0,0,0),i.model._setChangeListener(i.onModelChange.bind(i)),i.updateRect=i.updateRect.bind(i),i.tabIds=[],i}return n(e,t),e.prototype.onModelChange=function(){this.forceUpdate(),this.props.onModelChange&&this.props.onModelChange(this.model)},e.prototype.doAction=function(t){void 0!==this.props.onAction?this.props.onAction(t):this.model.doAction(t)},e.prototype.componentWillReceiveProps=function(t){this.model!==t.model&&(null!=this.model&&this.model._setChangeListener(null),this.model=t.model,this.model._setChangeListener(this.onModelChange.bind(this)),this.forceUpdate())},e.prototype.componentDidMount=function(){this.updateRect(),window.addEventListener("resize",this.updateRect)},e.prototype.componentDidUpdate=function(){this.updateRect()},e.prototype.updateRect=function(){var t=this.selfRef.getBoundingClientRect(),e=new h.default(0,0,t.width,t.height);e.equals(this.rect)||(this.rect=e,this.forceUpdate())},e.prototype.componentWillUnmount=function(){window.removeEventListener("resize",this.updateRect)},e.prototype.render=function(){var t=this;this.start=Date.now();var e=[],i=[],n={},r=[];this.centerRect=this.model._layout(this.rect),this.renderBorder(this.model.getBorderSet(),e,n,r),this.renderChildren(this.model.getRoot(),i,n,r);var s=[],a={};return this.tabIds.forEach(function(t){n[t]&&(s.push(t),a[t]=t)}),this.tabIds=s,Object.keys(n).forEach(function(e){a[e]||t.tabIds.push(e)}),this.layoutTime=Date.now()-this.start,o.createElement("div",{ref:function(e){return t.selfRef=e},className:"flexlayout__layout"},i,this.tabIds.map(function(t){return n[t]}),e,r)},e.prototype.renderBorder=function(t,e,i,n){for(var r=0;r<t.getBorders().length;r++){var d=t.getBorders()[r];if(d.isShowing()){e.push(o.createElement(u.BorderTabSet,{key:"border_"+d.getLocation().getName(),border:d,layout:this}));for(var l=d._getDrawChildren(),h=0;h<l.length;h++){var c=l[h];c instanceof _.default?n.push(o.createElement(s.Splitter,{key:c.getId(),layout:this,node:c})):c instanceof p.default&&(i[c.getId()]=o.createElement(a.Tab,{key:c.getId(),layout:this,node:c,selected:h===d.getSelected(),factory:this.props.factory}))}}}},e.prototype.renderChildren=function(t,e,i,n){for(var r=t._getDrawChildren(),u=0;u<r.length;u++){var l=r[u];if(l instanceof _.default)n.push(o.createElement(s.Splitter,{key:l.getId(),layout:this,node:l}));else if(l instanceof f.default)e.push(o.createElement(d.TabSet,{key:l.getId(),layout:this,node:l})),this.renderChildren(l,e,i,n);else if(l instanceof p.default){var h=l.getParent().getChildren()[l.getParent().getSelected()];i[l.getId()]=o.createElement(a.Tab,{key:l.getId(),layout:this,node:l,selected:l===h,factory:this.props.factory})}else this.renderChildren(l,e,i,n)}},e.prototype.addTabToTabSet=function(t,e){null!=this.model.getNodeById(t)&&this.doAction(g.default.addNode(e,t,c.default.CENTER,-1))},e.prototype.addTabToActiveTabSet=function(t){var e=this.model.getActiveTabset();null!=e&&this.doAction(g.default.addNode(t,e.getId(),c.default.CENTER,-1))},e.prototype.addTabWithDragAndDrop=function(t,e,i){this.fnNewNodeDropped=i,this.newTabJson=e,this.dragStart(null,t,p.default._fromJson(e,this.model),null,null,null)},e.prototype.addTabWithDragAndDropIndirect=function(t,e,i){this.fnNewNodeDropped=i,this.newTabJson=e,l.default.instance.addGlass(this.onCancelAdd.bind(this)),this.dragDivText=t,this.dragDiv=document.createElement("div"),this.dragDiv.className="flexlayout__drag_rect",this.dragDiv.innerHTML=this.dragDivText,this.dragDiv.addEventListener("mousedown",this.onDragDivMouseDown.bind(this)),this.dragDiv.addEventListener("touchstart",this.onDragDivMouseDown.bind(this));var n=new h.default(10,10,150,50);n.centerInRect(this.rect),this.dragDiv.style.left=n.x+"px",this.dragDiv.style.top=n.y+"px",r.findDOMNode(this).appendChild(this.dragDiv)},e.prototype.onCancelAdd=function(){r.findDOMNode(this).removeChild(this.dragDiv),this.dragDiv=null,null!=this.fnNewNodeDropped&&(this.fnNewNodeDropped(),this.fnNewNodeDropped=null),l.default.instance.hideGlass(),this.newTabJson=null},e.prototype.onCancelDrag=function(t){if(t){var e=r.findDOMNode(this);try{e.removeChild(this.outlineDiv)}catch(t){}try{e.removeChild(this.dragDiv)}catch(t){}this.dragDiv=null,this.hideEdges(e),null!=this.fnNewNodeDropped&&(this.fnNewNodeDropped(),this.fnNewNodeDropped=null),l.default.instance.hideGlass(),this.newTabJson=null}},e.prototype.onDragDivMouseDown=function(t){t.preventDefault(),this.dragStart(t,this.dragDivText,p.default._fromJson(this.newTabJson,this.model),!0,null,null)},e.prototype.dragStart=function(t,e,i,n,o,r){null==this.model.getMaximizedTabset()&&n?(this.dragNode=i,this.dragDivText=e,l.default.instance.startDrag(t,this.onDragStart.bind(this),this.onDragMove.bind(this),this.onDragEnd.bind(this),this.onCancelDrag.bind(this),o,r)):l.default.instance.startDrag(t,null,null,null,null,o,r)},e.prototype.onDragStart=function(t){this.dropInfo=null;var e=r.findDOMNode(this);return this.outlineDiv=document.createElement("div"),this.outlineDiv.className="flexlayout__outline_rect",e.appendChild(this.outlineDiv),null==this.dragDiv&&(this.dragDiv=document.createElement("div"),this.dragDiv.className="flexlayout__drag_rect",this.dragDiv.innerHTML=this.dragDivText,e.appendChild(this.dragDiv)),this.showEdges(e),null!=this.dragNode&&this.dragNode instanceof p.default&&null!=this.dragNode.getTabRect()&&this.dragNode.getTabRect().positionElement(this.outlineDiv),this.firstMove=!0,!0},e.prototype.onDragMove=function(t){!1===this.firstMove&&(this.outlineDiv.style.transition="top .3s, left .3s, width .3s, height .3s"),this.firstMove=!1;var e=this.selfRef.getBoundingClientRect(),i={x:t.clientX-e.left,y:t.clientY-e.top};this.dragDiv.style.left=i.x-this.dragDiv.getBoundingClientRect().width/2+"px",this.dragDiv.style.top=i.y+5+"px";var n=this.model._findDropTargetNode(this.dragNode,i.x,i.y);n&&(this.dropInfo=n,this.outlineDiv.className=n.className,n.rect.positionElement(this.outlineDiv))},e.prototype.onDragEnd=function(t){var e=r.findDOMNode(this);e.removeChild(this.outlineDiv),e.removeChild(this.dragDiv),this.dragDiv=null,this.hideEdges(e),l.default.instance.hideGlass(),this.dropInfo&&(null!=this.newTabJson?(this.doAction(g.default.addNode(this.newTabJson,this.dropInfo.node.getId(),this.dropInfo.location,this.dropInfo.index)),null!=this.fnNewNodeDropped&&(this.fnNewNodeDropped(),this.fnNewNodeDropped=null),this.newTabJson=null):null!=this.dragNode&&this.doAction(g.default.moveNode(this.dragNode.getId(),this.dropInfo.node.getId(),this.dropInfo.location,this.dropInfo.index)))},e.prototype.showEdges=function(t){if(this.model.isEnableEdgeDock()){var e=t.getBoundingClientRect(),i=this.centerRect;this.edgeTopDiv=document.createElement("div"),this.edgeTopDiv.className="flexlayout__edge_rect",this.edgeTopDiv.style.top=i.y+"px",this.edgeTopDiv.style.left=i.x+(i.width-100)/2+"px",this.edgeTopDiv.style.width="100px",this.edgeTopDiv.style.height="10px",this.edgeTopDiv.style.borderBottomLeftRadius="50px",this.edgeTopDiv.style.borderBottomRightRadius="50px",this.edgeLeftDiv=document.createElement("div"),this.edgeLeftDiv.className="flexlayout__edge_rect",this.edgeLeftDiv.style.top=i.y+(i.height-100)/2+"px",this.edgeLeftDiv.style.left=i.x+"px",this.edgeLeftDiv.style.width="10px",this.edgeLeftDiv.style.height="100px",this.edgeLeftDiv.style.borderTopRightRadius="50px",this.edgeLeftDiv.style.borderBottomRightRadius="50px",this.edgeBottomDiv=document.createElement("div"),this.edgeBottomDiv.className="flexlayout__edge_rect",this.edgeBottomDiv.style.bottom=e.height-i.getBottom()+"px",this.edgeBottomDiv.style.left=i.x+(i.width-100)/2+"px",this.edgeBottomDiv.style.width="100px",this.edgeBottomDiv.style.height="10px",this.edgeBottomDiv.style.borderTopLeftRadius="50px",this.edgeBottomDiv.style.borderTopRightRadius="50px",this.edgeRightDiv=document.createElement("div"),this.edgeRightDiv.className="flexlayout__edge_rect",this.edgeRightDiv.style.top=i.y+(i.height-100)/2+"px",this.edgeRightDiv.style.right=e.width-i.getRight()+"px",this.edgeRightDiv.style.width="10px",this.edgeRightDiv.style.height="100px",this.edgeRightDiv.style.borderTopLeftRadius="50px",this.edgeRightDiv.style.borderBottomLeftRadius="50px",t.appendChild(this.edgeTopDiv),t.appendChild(this.edgeLeftDiv),t.appendChild(this.edgeBottomDiv),t.appendChild(this.edgeRightDiv)}},e.prototype.hideEdges=function(t){if(this.model.isEnableEdgeDock())try{t.removeChild(this.edgeTopDiv),t.removeChild(this.edgeLeftDiv),t.removeChild(this.edgeBottomDiv),t.removeChild(this.edgeRightDiv)}catch(t){}},e.prototype.maximize=function(t){this.doAction(g.default.maximizeToggle(t.getId()))},e.prototype.customizeTab=function(t,e){this.props.onRenderTab&&this.props.onRenderTab(t,e)},e.prototype.customizeTabSet=function(t,e){this.props.onRenderTabSet&&this.props.onRenderTabSet(t,e)},e}(o.Component);e.Layout=y,e.default=y},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(2),r=i(8),s=i(14),a=i(1),d=i(5),u=i(4),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.onMouseDown=function(t){s.default.instance.startDrag(t,this.onDragStart.bind(this),this.onDragMove.bind(this),this.onDragEnd.bind(this),this.onDragCancel.bind(this));var e=this.props.node.getParent();this.pBounds=e._getSplitterBounds(this.props.node);var i=r.findDOMNode(this.props.layout);this.outlineDiv=document.createElement("div"),this.outlineDiv.style.position="absolute",this.outlineDiv.className="flexlayout__splitter_drag",this.outlineDiv.style.cursor=this.props.node.getOrientation()===a.default.HORZ?"ns-resize":"ew-resize",this.props.node.getRect().positionElement(this.outlineDiv),i.appendChild(this.outlineDiv)},e.prototype.onDragCancel=function(t){r.findDOMNode(this.props.layout).removeChild(this.outlineDiv)},e.prototype.onDragStart=function(t){return!0},e.prototype.onDragMove=function(t){var e=r.findDOMNode(this.props.layout).getBoundingClientRect(),i=t.clientX-e.left,n=t.clientY-e.top;this.props.node.getOrientation()===a.default.HORZ?this.outlineDiv.style.top=this.getBoundPosition(n-4)+"px":this.outlineDiv.style.left=this.getBoundPosition(i-4)+"px"},e.prototype.onDragEnd=function(t,e){var i=this.props.node,n=i.getParent(),o=0;if(o=i.getOrientation()===a.default.HORZ?this.outlineDiv.offsetTop:this.outlineDiv.offsetLeft,n instanceof d.default){var s=n._calculateSplit(i,o);this.props.layout.doAction(u.default.adjustBorderSplit(i.getParent().getId(),s))}else{var l=n._calculateSplit(this.props.node,o);null!=l&&this.props.layout.doAction(u.default.adjustSplit(l))}r.findDOMNode(this.props.layout).removeChild(this.outlineDiv)},e.prototype.getBoundPosition=function(t){var e=t;return t<this.pBounds[0]&&(e=this.pBounds[0]),t>this.pBounds[1]&&(e=this.pBounds[1]),e},e.prototype.render=function(){var t=this.props.node._styleWithPosition({cursor:this.props.node.getOrientation()===a.default.HORZ?"ns-resize":"ew-resize"});return o.createElement("div",{style:t,onTouchStart:this.onMouseDown.bind(this),onMouseDown:this.onMouseDown.bind(this),className:"flexlayout__splitter"})},e}(o.Component);e.Splitter=l},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(2),r=i(7),s=i(4),a=function(t){function e(e){var i=t.call(this,e)||this;return i.state={renderComponent:e.selected},i}return n(e,t),e.prototype.componentDidMount=function(){},e.prototype.componentWillUnmount=function(){},e.prototype.componentWillReceiveProps=function(t){!this.state.renderComponent&&t.selected&&this.setState({renderComponent:!0})},e.prototype.onMouseDown=function(t){var e=this.props.node.getParent();e.getType()===r.default.TYPE&&(e.isActive()||this.props.layout.doAction(s.default.setActiveTabset(e.getId())))},e.prototype.render=function(){var t=this.props.node,e=t.getParent(),i=t._styleWithPosition({display:this.props.selected?"block":"none"});e.isMaximized()&&(i.zIndex=100);var n=null;return this.state.renderComponent&&(n=this.props.factory(t)),o.createElement("div",{className:"flexlayout__tab",onMouseDown:this.onMouseDown.bind(this),onTouchStart:this.onMouseDown.bind(this),style:i},n)},e}(o.Component);e.Tab=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(2),r=i(23),s=i(4),a=i(24),d=function(t){function e(e){var i=t.call(this,e)||this;return i.recalcVisibleTabs=!0,i.showOverflow=!1,i.showToolbar=!0,i.state={hideTabsAfter:999},i}return n(e,t),e.prototype.componentDidMount=function(){this.updateVisibleTabs()},e.prototype.componentDidUpdate=function(){this.updateVisibleTabs()},e.prototype.componentWillReceiveProps=function(t){this.showToolbar=!0,this.showOverflow=!1,this.recalcVisibleTabs=!0,this.setState({hideTabsAfter:999})},e.prototype.updateVisibleTabs=function(){var t=this.props.node;if(t.isEnableTabStrip()&&this.recalcVisibleTabs){for(var e=this.toolbarRef.getBoundingClientRect().width,i=999,n=0;n<t.getChildren().length;n++){var o=t.getChildren()[n];if(o.getTabRect().getRight()>t.getRect().getRight()-(20+e)){i=Math.max(0,n-1),this.showOverflow=t.getChildren().length>1,0===n&&(this.showToolbar=!1,o.getTabRect().getRight()>t.getRect().getRight()-20&&(this.showOverflow=!1));break}}this.state.hideTabsAfter!==i&&this.setState({hideTabsAfter:i}),this.recalcVisibleTabs=!1}},e.prototype.render=function(){var t=this,e=this.props.node,i=e._styleWithPosition();this.props.node.isMaximized()&&(i.zIndex=100);var n=[],r=[];if(e.isEnableTabStrip())for(var s=0;s<e.getChildren().length;s++){var d=this.props.node.getSelected()===s,u=this.state.hideTabsAfter>=s,l=e.getChildren()[s];this.state.hideTabsAfter===s&&this.props.node.getSelected()>this.state.hideTabsAfter?(r.push({name:l.getName(),node:l,index:s}),l=e.getChildren()[this.props.node.getSelected()],d=!0):u||d||r.push({name:l.getName(),node:l,index:s}),u&&n.push(o.createElement(a.TabButton,{layout:this.props.layout,node:l,key:l.getId(),selected:d,show:u,height:e.getTabStripHeight()}))}var h=[],c={headerContent:e.getName(),buttons:h};this.props.layout.customizeTabSet(this.props.node,c);var p=c.headerContent;h=c.buttons;var f=null;!0===this.showToolbar&&(this.props.node.isEnableMaximize()&&h.push(o.createElement("button",{key:"max",className:"flexlayout__tab_toolbar_button-"+(e.isMaximized()?"max":"min"),onClick:this.onMaximizeToggle.bind(this)})),f=o.createElement("div",{key:"toolbar",ref:function(e){return t.toolbarRef=e},className:"flexlayout__tab_toolbar",onMouseDown:this.onInterceptMouseDown.bind(this)},h)),!0===this.showOverflow&&n.push(o.createElement("button",{key:"overflowbutton",ref:function(e){return t.overflowbuttonRef=e},className:"flexlayout__tab_button_overflow",onClick:this.onOverflowClick.bind(this,r),onMouseDown:this.onInterceptMouseDown.bind(this)},r.length));var _=null!=e.getName(),g=null,y=null,b="flexlayout__tab_header_outer";if(null!=this.props.node.getClassNameTabStrip()&&(b+=" "+this.props.node.getClassNameTabStrip()),e.isActive()&&!_&&(b+=" flexlayout__tabset-selected"),e.isMaximized()&&!_&&(b+=" flexlayout__tabset-maximized"),_){var v="flexlayout__tabset_header";e.isActive()&&(v+=" flexlayout__tabset-selected"),e.isMaximized()&&(v+=" flexlayout__tabset-maximized"),null!=this.props.node.getClassNameHeader()&&(v+=" "+this.props.node.getClassNameHeader()),g=o.createElement("div",{className:v,style:{height:e.getHeaderHeight()+"px"},onMouseDown:this.onMouseDown.bind(this),onTouchStart:this.onMouseDown.bind(this)},p,f),y=o.createElement("div",{className:b,style:{height:e.getTabStripHeight()+"px",top:e.getHeaderHeight()+"px"}},o.createElement("div",{ref:function(e){return t.headerRef=e},className:"flexlayout__tab_header_inner"},n))}else y=o.createElement("div",{className:b,style:{top:"0px",height:e.getTabStripHeight()+"px"},onMouseDown:this.onMouseDown.bind(this),onTouchStart:this.onMouseDown.bind(this)},o.createElement("div",{ref:function(e){return t.headerRef=e},className:"flexlayout__tab_header_inner"},n),f);return o.createElement("div",{style:i,className:"flexlayout__tabset"},g,y)},e.prototype.onOverflowClick=function(t,e){var i=this.overflowbuttonRef;r.default.show(i,t,this.onOverflowItemSelect.bind(this))},e.prototype.onOverflowItemSelect=function(t){this.props.node;this.props.layout.doAction(s.default.selectTab(t.node.getId()))},e.prototype.onMouseDown=function(t){var e=this.props.node.getName();e=null==e?"":": "+e,this.props.layout.doAction(s.default.setActiveTabset(this.props.node.getId())),this.props.layout.dragStart(t,"Move tabset"+e,this.props.node,this.props.node.isEnableDrag(),null,this.onDoubleClick.bind(this))},e.prototype.onInterceptMouseDown=function(t){t.stopPropagation()},e.prototype.onMaximizeToggle=function(){this.props.node.isEnableMaximize()&&this.props.layout.maximize(this.props.node)},e.prototype.onDoubleClick=function(t){this.props.node.isEnableMaximize()&&this.props.layout.maximize(this.props.node)},e}(o.Component);e.TabSet=d},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(2),r=i(8),s=function(t){function e(e){var i=t.call(this,e)||this;return i.onDocMouseUp=i.onDocMouseUp.bind(i),i.hidden=!1,i}return n(e,t),e.show=function(t,i,n){var s=t.getBoundingClientRect(),a=document.body.getBoundingClientRect(),d=document.createElement("div");d.className="flexlayout__popup_menu_container",d.style.right=a.right-s.right+"px",d.style.top=s.bottom+"px",document.body.appendChild(d);r.render(o.createElement(e,{element:d,onSelect:n,onHide:function(){r.unmountComponentAtNode(d),document.body.removeChild(d)},items:i}),d)},e.prototype.componentDidMount=function(){document.addEventListener("mouseup",this.onDocMouseUp)},e.prototype.componentWillUnmount=function(){document.removeEventListener("mouseup",this.onDocMouseUp)},e.prototype.onDocMouseUp=function(t){setTimeout(function(){this.hide()}.bind(this),0)},e.prototype.hide=function(){this.hidden||(this.props.onHide(),this.hidden=!0)},e.prototype.onItemClick=function(t,e){this.props.onSelect(t),this.hide(),e.stopPropagation()},e.prototype.render=function(){var t=this,e=this.props.items.map(function(e){return o.createElement("div",{key:e.index,className:"flexlayout__popup_menu_item",onClick:t.onItemClick.bind(t,e)},e.name)});return o.createElement("div",{className:"popup_menu"},e)},e}(o.Component);e.default=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(2),r=i(8),s=i(0),a=i(4),d=function(t){function e(e){var i=t.call(this,e)||this;return i.state={editing:!1},i.onEndEdit=i.onEndEdit.bind(i),i}return n(e,t),e.prototype.onMouseDown=function(t){this.props.layout.dragStart(t,"Move: "+this.props.node.getName(),this.props.node,this.props.node.isEnableDrag(),this.onClick.bind(this),this.onDoubleClick.bind(this))},e.prototype.onClick=function(t){var e=this.props.node;this.props.layout.doAction(a.default.selectTab(e.getId()))},e.prototype.onDoubleClick=function(t){if(this.props.node.isEnableRename())this.setState({editing:!0}),document.body.addEventListener("mousedown",this.onEndEdit),document.body.addEventListener("touchstart",this.onEndEdit);else{var e=this.props.node.getParent();e.isEnableMaximize()&&this.props.layout.maximize(e)}},e.prototype.onEndEdit=function(t){t.target!==this.contentRef&&(this.setState({editing:!1}),document.body.removeEventListener("mousedown",this.onEndEdit),document.body.removeEventListener("touchstart",this.onEndEdit))},e.prototype.onClose=function(t){var e=this.props.node;this.props.layout.doAction(a.default.deleteTab(e.getId()))},e.prototype.onCloseMouseDown=function(t){t.stopPropagation()},e.prototype.componentDidMount=function(){this.updateRect()},e.prototype.componentDidUpdate=function(){this.updateRect(),this.state.editing&&this.contentRef.select()},e.prototype.updateRect=function(){var t=r.findDOMNode(this.props.layout).getBoundingClientRect(),e=this.selfRef.getBoundingClientRect();this.props.node.setTabRect(new s.default(e.left-t.left,e.top-t.top,e.width,e.height)),this.contentWidth=this.contentRef.getBoundingClientRect().width},e.prototype.onTextBoxMouseDown=function(t){t.stopPropagation()},e.prototype.onTextBoxKeyPress=function(t){if(27===t.keyCode)this.setState({editing:!1});else if(13===t.keyCode){this.setState({editing:!1});var e=this.props.node;this.props.layout.doAction(a.default.renameTab(e.getId(),t.target.value))}},e.prototype.doRename=function(t,e){this.props.layout.doAction(a.default.renameTab(t.getId(),e))},e.prototype.render=function(){var t=this,e="flexlayout__tab_button",i=this.props.node;this.props.selected?e+=" flexlayout__tab_button--selected":e+=" flexlayout__tab_button--unselected",null!=this.props.node.getClassName()&&(e+=" "+this.props.node.getClassName());var n=null;null!=i.getIcon()&&(n=o.createElement("img",{src:i.getIcon()}));var r={leading:n,content:i.getName()};this.props.layout.customizeTab(i,r);var s=o.createElement("div",{ref:function(e){return t.contentRef=e},className:"flexlayout__tab_button_content"},r.content),a=o.createElement("div",{className:"flexlayout__tab_button_leading"},r.leading);if(this.state.editing){var d={width:this.contentWidth+"px"};s=o.createElement("input",{style:d,ref:function(e){return t.contentRef=e},className:"flexlayout__tab_button_textbox",type:"text",autoFocus:!0,defaultValue:i.getName(),onKeyDown:this.onTextBoxKeyPress.bind(this),onMouseDown:this.onTextBoxMouseDown.bind(this),onTouchStart:this.onTextBoxMouseDown.bind(this)})}var u=null;return this.props.node.isEnableClose()&&(u=o.createElement("div",{className:"flexlayout__tab_button_trailing",onMouseDown:this.onCloseMouseDown.bind(this),onClick:this.onClose.bind(this),onTouchStart:this.onCloseMouseDown.bind(this)})),o.createElement("div",{ref:function(e){return t.selfRef=e},style:{visibility:this.props.show?"visible":"hidden",height:this.props.height},className:e,onMouseDown:this.onMouseDown.bind(this),onTouchStart:this.onMouseDown.bind(this)},a,s,u)},e}(o.Component);e.TabButton=d},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(2),r=i(26),s=i(3),a=function(t){function e(e){return t.call(this,e)||this}return n(e,t),e.prototype.render=function(){var t=this,e=this.props.border,i=e.getTabHeaderRect().styleWithPosition({}),n=[];if(e.getLocation()!==s.default.LEFT)for(var a=0;a<e.getChildren().length;a++){var d=e.getSelected()===a,u=e.getChildren()[a];n.push(o.createElement(r.BorderButton,{layout:this.props.layout,border:e.getLocation().getName(),node:u,key:u.getId(),selected:d}))}else for(a=e.getChildren().length-1;a>=0;a--){d=e.getSelected()===a,u=e.getChildren()[a];n.push(o.createElement(r.BorderButton,{layout:this.props.layout,border:e.getLocation().getName(),node:u,key:u.getId(),selected:d}))}var l="flexlayout__border_"+e.getLocation().getName();null!=this.props.border.getClassNameBorder()&&(l+=" "+this.props.border.getClassNameBorder());var h=[],c={headerContent:{},buttons:h};this.props.layout.customizeTabSet(e,c),h=c.buttons;var p=o.createElement("div",{key:"toolbar",ref:function(e){return t.toolbarRef=e},className:"flexlayout__border_toolbar_"+e.getLocation().getName()},h);return o.createElement("div",{style:i,className:l},o.createElement("div",{className:"flexlayout__border_inner_"+e.getLocation().getName()},n),p)},e}(o.Component);e.BorderTabSet=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(2),r=i(8),s=i(0),a=i(4),d=function(t){function e(e){return t.call(this,e)||this}return n(e,t),e.prototype.onMouseDown=function(t){this.props.layout.dragStart(t,"Move: "+this.props.node.getName(),this.props.node,this.props.node.isEnableDrag(),this.onClick.bind(this),null)},e.prototype.onClick=function(t){var e=this.props.node;this.props.layout.doAction(a.default.selectTab(e.getId()))},e.prototype.onClose=function(t){var e=this.props.node;this.props.layout.doAction(a.default.deleteTab(e.getId()))},e.prototype.onCloseMouseDown=function(t){t.stopPropagation()},e.prototype.componentDidMount=function(){this.updateRect()},e.prototype.componentDidUpdate=function(){this.updateRect()},e.prototype.updateRect=function(){var t=r.findDOMNode(this.props.layout).getBoundingClientRect(),e=this.selfRef.getBoundingClientRect();this.props.node.setTabRect(new s.default(e.left-t.left,e.top-t.top,e.width,e.height)),this.contentWidth=this.contentsRef.getBoundingClientRect().width},e.prototype.render=function(){var t=this,e="flexlayout__border_button flexlayout__border_button_"+this.props.border,i=this.props.node;this.props.selected?e+=" flexlayout__border_button--selected":e+=" flexlayout__border_button--unselected",null!=this.props.node.getClassName()&&(e+=" "+this.props.node.getClassName());var n=null;null!=i.getIcon()&&(n=o.createElement("img",{src:i.getIcon()}));var r=o.createElement("div",{ref:function(e){return t.contentsRef=e},className:"flexlayout__border_button_content"},i.getName()),s=null;return this.props.node.isEnableClose()&&(s=o.createElement("div",{className:"flexlayout__border_button_trailing",onMouseDown:this.onCloseMouseDown.bind(this),onClick:this.onClose.bind(this),onTouchStart:this.onCloseMouseDown.bind(this)})),o.createElement("div",{ref:function(e){return t.selfRef=e},style:{},className:e,onMouseDown:this.onMouseDown.bind(this),onTouchStart:this.onMouseDown.bind(this)},n,r,s)},e}(o.Component);e.BorderButton=d},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(15),o=i(4),r=i(9),s=i(7),a=i(17),d=i(5),u=i(3),l=i(10),h=i(11),c=i(1),p=function(){function t(){this._attributes={},this._idMap={},this._nextId=0,this._borders=new a.default(this)}return t.prototype._setChangeListener=function(t){this._changeListener=t},t.prototype.getActiveTabset=function(){return this._activeTabSet},t.prototype._setActiveTabset=function(t){this._activeTabSet=t},t.prototype.getMaximizedTabset=function(){return this._maximizedTabSet},t.prototype._setMaximizedTabset=function(t){this._maximizedTabSet=t},t.prototype.getRoot=function(){return this._root},t.prototype.getBorderSet=function(){return this._borders},t.prototype._getOuterInnerRects=function(){return this._borderRects},t.prototype.visitNodes=function(t){this._borders._forEachNode(t),this._root._forEachNode(t,0)},t.prototype.getNodeById=function(t){return this._idMap[t]},t.prototype.doAction=function(t){switch(t.type){case o.default.ADD_NODE:var e=new r.default(this,t.data.json);((i=this._idMap[t.data.toNode])instanceof s.default||i instanceof d.default)&&i.drop(e,u.default.getByName(t.data.location),t.data.index);break;case o.default.MOVE_NODE:var i,a=this._idMap[t.data.fromNode];if(a instanceof r.default||a instanceof s.default)((i=this._idMap[t.data.toNode])instanceof s.default||i instanceof d.default||i instanceof n.default)&&i.drop(a,u.default.getByName(t.data.location),t.data.index);break;case o.default.DELETE_TAB:(g=this._idMap[t.data.node])instanceof r.default&&(delete this._idMap[t.data.node],g._delete());break;case o.default.RENAME_TAB:(g=this._idMap[t.data.node])instanceof r.default&&g._setName(t.data.text);break;case o.default.SELECT_TAB:var l=this._idMap[t.data.tabNode];if(l instanceof r.default){var h=l.getParent(),c=h.getChildren().indexOf(l);h instanceof d.default?h.getSelected()===c?h._setSelected(-1):h._setSelected(c):h instanceof s.default&&(h.getSelected()!==c&&h._setSelected(c),this._activeTabSet=h)}break;case o.default.SET_ACTIVE_TABSET:var p=this._idMap[t.data.tabsetNode];p instanceof s.default&&(this._activeTabSet=p);break;case o.default.ADJUST_SPLIT:var f=this._idMap[t.data.node1],_=this._idMap[t.data.node2];(f instanceof s.default||f instanceof n.default)&&(_ instanceof s.default||_ instanceof n.default)&&(this._adjustSplitSide(f,t.data.weight1,t.data.pixelWidth1),this._adjustSplitSide(_,t.data.weight2,t.data.pixelWidth2));break;case o.default.ADJUST_BORDER_SPLIT:(g=this._idMap[t.data.node])instanceof d.default&&g._setSize(t.data.pos);break;case o.default.MAXIMIZE_TOGGLE:(g=this._idMap[t.data.node])instanceof s.default&&(g===this._maximizedTabSet?this._maximizedTabSet=null:(this._maximizedTabSet=g,this._activeTabSet=g));break;case o.default.UPDATE_MODEL_ATTRIBUTES:this._updateAttrs(t.data.json);break;case o.default.UPDATE_NODE_ATTRIBUTES:var g;(g=this._idMap[t.data.node])._updateAttrs(t.data.json)}this._updateIdMap(),null!=this._changeListener&&this._changeListener()},t.prototype._updateIdMap=function(){var t=this;this._idMap={},this.visitNodes(function(e){return t._idMap[e.getId()]=e})},t.prototype._adjustSplitSide=function(t,e,i){t._setWeight(e),null!=t.getWidth()&&t.getOrientation()===c.default.VERT?t._updateAttrs({width:i}):null!=t.getHeight()&&t.getOrientation()===c.default.HORZ&&t._updateAttrs({height:i})},t.prototype.toJson=function(){var e={global:{},layout:{}};return t._attributeDefinitions.toJson(e.global,this._attributes),this.visitNodes(function(t){t._fireEvent("save",null)}),e.borders=this._borders._toJson(),e.layout=this._root._toJson(),e},t.fromJson=function(e){var i=new t;return t._attributeDefinitions.fromJson(e.global,i._attributes),e.borders&&(i._borders=a.default._fromJson(e.borders,i)),i._root=n.default._fromJson(e.layout,i),i._tidy(),i},t.prototype.getSplitterSize=function(){return this._attributes.splitterSize},t.prototype.isEnableEdgeDock=function(){return this._attributes.enableEdgeDock},t.prototype._addNode=function(t){if(null==t.getId())t._setId(this._nextUniqueId());else if(void 0!==this._idMap[t.getId()])throw"Error: each node must have a unique id, duplicate id: "+t.getId();"splitter"!==t.getType()&&(this._idMap[t.getId()]=t)},t.prototype._layout=function(t){return this._borderRects=this._borders._layoutBorder({outer:t,inner:t}),t=this._borderRects.inner.removeInsets(this._getAttribute("marginInsets")),this._root._layout(t),t},t.prototype._findDropTargetNode=function(t,e,i){var n=this._root._findDropTargetNode(t,e,i);return null==n&&(n=this._borders._findDropTargetNode(t,e,i)),n},t.prototype._tidy=function(){this._root._tidy()},t.prototype._updateAttrs=function(e){t._attributeDefinitions.update(e,this._attributes)},t.prototype._nextUniqueId=function(){for(this._nextId++;void 0!==this._idMap["#"+this._nextId];)this._nextId++;return"#"+this._nextId},t.prototype._getAttribute=function(t){return this._attributes[t]},t.prototype.setOnAllowDrop=function(t){this._onAllowDrop=t},t.prototype._getOnAllowDrop=function(){return this._onAllowDrop},t.prototype.toString=function(){return JSON.stringify(this.toJson())},t._createAttributeDefinitions=function(){var t=new l.default;return t.add("splitterSize",8).setType(h.default.INT).setFrom(1),t.add("enableEdgeDock",!0).setType(h.default.BOOLEAN),t.add("marginInsets",{top:0,right:0,bottom:0,left:0}).setType(h.default.JSON),t.add("tabEnableClose",!0).setType(h.default.BOOLEAN),t.add("tabEnableDrag",!0).setType(h.default.BOOLEAN),t.add("tabEnableRename",!0).setType(h.default.BOOLEAN),t.add("tabClassName",null).setType(h.default.STRING),t.add("tabIcon",null).setType(h.default.STRING),t.add("tabSetEnableDeleteWhenEmpty",!0).setType(h.default.BOOLEAN),t.add("tabSetEnableClose",!0).setType(h.default.BOOLEAN),t.add("tabSetEnableDrop",!0).setType(h.default.BOOLEAN),t.add("tabSetEnableDrag",!0).setType(h.default.BOOLEAN),t.add("tabSetEnableDivide",!0).setType(h.default.BOOLEAN),t.add("tabSetEnableMaximize",!0).setType(h.default.BOOLEAN),t.add("tabSetClassNameTabStrip",null).setType(h.default.STRING),t.add("tabSetClassNameHeader",null).setType(h.default.STRING),t.add("tabSetEnableTabStrip",!0).setType(h.default.BOOLEAN),t.add("tabSetHeaderHeight",20).setType(h.default.INT).setFrom(0),t.add("tabSetTabStripHeight",20).setType(h.default.INT).setFrom(0),t.add("tabSetMarginInsets",{top:0,right:0,bottom:0,left:0}).setType(h.default.JSON),t.add("tabSetBorderInsets",{top:0,right:0,bottom:0,left:0}).setType(h.default.JSON),t.add("borderBarSize",25),t.add("borderEnableDrop",!0).setType(h.default.BOOLEAN),t.add("borderClassName",null).setType(h.default.STRING),t},t._attributeDefinitions=t._createAttributeDefinitions(),t}();e.default=p}])});